import{j as i,g as Yt,r as f,u as Ne,a as ne,c as lt,b as et,R as kt,L as Qt}from"./index-DzfoMgbt.js";import{useTonConnectModal as Gt,useTonAddress as Jt}from"./index-DgmsvJ7s.js";import{useCloudStorage as ye,useMainButton as Kt,useUtils as Xt,useBackButton as tt,useSettingsButton as Zt}from"./index-Dr1mt6Lo.js";const es=""+new URL("wallet-0L6284XF.svg",import.meta.url).href,ts="_walletImg_6a6wk_1",ss="_WalletConWrap_6a6wk_21",ut={walletImg:ts,WalletConWrap:ss},ns=()=>{const e=Gt(),t=Jt(!0);return i.jsxs("div",{className:ut.WalletConWrap,children:[i.jsx("img",{className:ut.walletImg,onClick:s=>{t.length==0?e.open():alert("Wallet is already connected")},src:es,alt:"Connect Wallet"}),t]})},Ve=""+new URL("hat-icon-B7aTinpH.svg",import.meta.url).href,It=""+new URL("cup-rS1Pwblk.svg",import.meta.url).href,Le=""+new URL("coin-Cx2wDCZ1.svg",import.meta.url).href,rs="_statWrapper_1bzes_1",is="_icon_1bzes_39",ct={statWrapper:rs,icon:is};var st={},ke=function(){return ke=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ke.apply(this,arguments)},as=function(){function e(t,s,r){var n=this;this.endVal=s,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(a){n.startTime||(n.startTime=a);var o=a-n.startTime;n.remaining=n.duration-o,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(o,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(o,n.startVal,n.endVal-n.startVal,n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(o/n.duration);var l=n.countDown?n.frameVal<n.endVal:n.frameVal>n.endVal;n.frameVal=l?n.endVal:n.frameVal,n.frameVal=Number(n.frameVal.toFixed(n.options.decimalPlaces)),n.printValue(n.frameVal),o<n.duration?n.rAF=requestAnimationFrame(n.count):n.finalEndVal!==null?n.update(n.finalEndVal):n.options.onCompleteCallback&&n.options.onCompleteCallback()},this.formatNumber=function(a){var o,l,c,u,d=a<0?"-":"";o=Math.abs(a).toFixed(n.options.decimalPlaces);var y=(o+="").split(".");if(l=y[0],c=y.length>1?n.options.decimal+y[1]:"",n.options.useGrouping){u="";for(var p=3,m=0,g=0,_=l.length;g<_;++g)n.options.useIndianSeparators&&g===4&&(p=2,m=1),g!==0&&m%p==0&&(u=n.options.separator+u),m++,u=l[_-g-1]+u;l=u}return n.options.numerals&&n.options.numerals.length&&(l=l.replace(/[0-9]/g,function(b){return n.options.numerals[+b]}),c=c.replace(/[0-9]/g,function(b){return n.options.numerals[+b]})),d+n.options.prefix+l+c+n.options.suffix},this.easeOutExpo=function(a,o,l,c){return l*(1-Math.pow(2,-10*a/c))*1024/1023+o},this.options=ke(ke({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(s),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return n.handleScroll(n)}),window.onscroll=function(){window.onScrollFns.forEach(function(a){return a()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var s=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),n=r.top+window.pageYOffset,a=r.top+r.height+window.pageYOffset;a<s&&a>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>a||n>s)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var s=t-this.startVal;if(Math.abs(s)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var s;if(this.el){var r=this.formattingFn(t);!((s=this.options.plugin)===null||s===void 0)&&s.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var s=Number(t);return this.ensureNumber(s)?s:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const os=Object.freeze(Object.defineProperty({__proto__:null,CountUp:as},Symbol.toStringTag,{value:"Module"})),ls=Yt(os);Object.defineProperty(st,"__esModule",{value:!0});var w=f,us=ls;function cs(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var r,n,a,o,l=[],c=!0,u=!1;try{if(a=(s=s.call(e)).next,t!==0)for(;!(c=(r=a.call(s)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,n=d}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(u)throw n}}return l}}function ht(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,r)}return s}function Ie(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(s),!0).forEach(function(r){ds(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ht(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function hs(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(e){var t=hs(e,"string");return typeof t=="symbol"?t:String(t)}function ds(e,t,s){return t=fs(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Xe.apply(this,arguments)}function ps(e,t){if(e==null)return{};var s={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function At(e,t){if(e==null)return{};var s=ps(e,t),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ms(e,t){return gs(e)||cs(e,t)||ys(e,t)||vs()}function gs(e){if(Array.isArray(e))return e}function ys(e,t){if(e){if(typeof e=="string")return ft(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ft(e,t)}}function ft(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function vs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _s=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function A(e){var t=w.useRef(e);return _s(function(){t.current=e}),w.useCallback(function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return t.current.apply(void 0,r)},[])}var xs=function(t,s){var r=s.decimal,n=s.decimals,a=s.duration,o=s.easingFn,l=s.end,c=s.formattingFn,u=s.numerals,d=s.prefix,y=s.separator,p=s.start,m=s.suffix,g=s.useEasing,_=s.useGrouping,b=s.useIndianSeparators,W=s.enableScrollSpy,j=s.scrollSpyDelay,P=s.scrollSpyOnce,S=s.plugin;return new us.CountUp(t,l,{startVal:p,duration:a,decimal:r,decimalPlaces:n,easingFn:o,formattingFn:c,numerals:u,separator:y,prefix:d,suffix:m,plugin:S,useEasing:g,useIndianSeparators:b,useGrouping:_,enableScrollSpy:W,scrollSpyDelay:j,scrollSpyOnce:P})},bs=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],ws={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},Rt=function(t){var s=Object.fromEntries(Object.entries(t).filter(function(C){var M=ms(C,2),Q=M[1];return Q!==void 0})),r=w.useMemo(function(){return Ie(Ie({},ws),s)},[t]),n=r.ref,a=r.startOnMount,o=r.enableReinitialize,l=r.delay,c=r.onEnd,u=r.onStart,d=r.onPauseResume,y=r.onReset,p=r.onUpdate,m=At(r,bs),g=w.useRef(),_=w.useRef(),b=w.useRef(!1),W=A(function(){return xs(typeof n=="string"?n:n.current,m)}),j=A(function(C){var M=g.current;if(M&&!C)return M;var Q=W();return g.current=Q,Q}),P=A(function(){var C=function(){return j(!0).start(function(){c==null||c({pauseResume:S,reset:T,start:F,update:H})})};l&&l>0?_.current=setTimeout(C,l*1e3):C(),u==null||u({pauseResume:S,reset:T,update:H})}),S=A(function(){j().pauseResume(),d==null||d({reset:T,start:F,update:H})}),T=A(function(){j().el&&(_.current&&clearTimeout(_.current),j().reset(),y==null||y({pauseResume:S,start:F,update:H}))}),H=A(function(C){j().update(C),p==null||p({pauseResume:S,reset:T,start:F})}),F=A(function(){T(),P()}),Y=A(function(C){a&&(C&&T(),P())});return w.useEffect(function(){b.current?o&&Y(!0):(b.current=!0,Y())},[o,b,Y,l,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),w.useEffect(function(){return function(){T()}},[T]),{start:F,pauseResume:S,reset:T,update:H,getCountUp:j}},Ss=["className","redraw","containerProps","children","style"],js=function(t){var s=t.className,r=t.redraw,n=t.containerProps,a=t.children,o=t.style,l=At(t,Ss),c=w.useRef(null),u=w.useRef(!1),d=Rt(Ie(Ie({},l),{},{ref:c,startOnMount:typeof a!="function"||t.delay===0,enableReinitialize:!1})),y=d.start,p=d.reset,m=d.update,g=d.pauseResume,_=d.getCountUp,b=A(function(){y()}),W=A(function(S){t.preserveValue||p(),m(S)}),j=A(function(){if(typeof t.children=="function"&&!(c.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}_()});w.useEffect(function(){j()},[j]),w.useEffect(function(){u.current&&W(t.end)},[t.end,W]);var P=r&&t;return w.useEffect(function(){r&&u.current&&b()},[b,r,P]),w.useEffect(function(){!r&&u.current&&b()},[b,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),w.useEffect(function(){u.current=!0},[]),typeof a=="function"?a({countUpRef:c,start:y,reset:p,update:m,pauseResume:g,getCountUp:_}):w.createElement("span",Xe({className:s,ref:c,style:o},n),typeof t.start<"u"?_().formattingFn(t.start):"")},me=st.default=js;st.useCountUp=Rt;const Oe=({icon:e,value:t,...s})=>i.jsxs("div",{className:[ct.statWrapper,"pixel-border"].join(" "),children:[i.jsx("img",{className:ct.icon,src:e}),i.jsx(me,{start:0,end:t,separator:" "})]}),Ts="_headerWrap_j6ys5_1",Cs={headerWrap:Ts},Es=({hidden:e=!1})=>{const[t,s]=f.useState(!1),r=Ne({from:{marginTop:e?"0":"-15%"},to:{marginTop:e?"-15%":"0"}});return f.useEffect(()=>{if(e){console.log("TIMEOUT SET");const n=setTimeout(()=>{s(e)},1e3);return()=>{clearTimeout(n)}}else console.log(e),s(!1)},[e]),i.jsxs(ne.header,{style:r,className:Cs.headerWrap,children:[t?i.jsxs(i.Fragment,{children:[i.jsx("div",{})," ",i.jsx("div",{}),i.jsx("div",{})]}):i.jsxs(i.Fragment,{children:[i.jsx(Oe,{icon:Ve,value:1e3}),i.jsx(Oe,{icon:It,value:1e3}),i.jsx(Oe,{icon:Le,value:1e3})]}),i.jsx(ns,{})]})},Ps=""+new URL("logo-dark-pxcTu58g.svg",import.meta.url).href,Ns="_logoStyle_1mpkp_1",ks={logoStyle:Ns},Is=({minimized:e=!1,hidden:t=!1,...s})=>{const r=Ne({config:lt.stiff,from:{width:t?"50vw":"0%"},to:{width:t?"0%":"50vw"},reset:!1}),n=Ne({config:lt.gentle,from:{scale:e?"100%":"70%"},to:{scale:e?"70%":"100%"},reset:!1});return i.jsx(ne.img,{...s,style:{...r,...n},className:ks.logoStyle,src:Ps,alt:"The zavod"})},As="_StartPageWrap_1swmr_1",Rs="_infoText_1swmr_49",Vs="_infoTextReverse_1swmr_49",Ls="_infoText_textPart_1swmr_59",Os="_header_1swmr_75",Ws="_mainHeader_1swmr_85",Us="_close_1swmr_97",B={StartPageWrap:As,infoText:Rs,infoTextReverse:Vs,infoText_textPart:Ls,header:Os,mainHeader:Ws,close:Us},Ze=""+new URL("close-D8nR8gUl.svg",import.meta.url).href,Hs=({onClose:e,onToast:t,onLoad:s})=>{const r=ye();f.useEffect(()=>{r.get("tutorialToasts").then(a=>{a=="true"&&t(i.jsxs("span",{children:["You'll recieve a hints like this during the game. If you want to disable them, go to Settings",i.jsx("br",{}),i.jsx("br",{}),"Click anywhere to close the hint"]}))})},[r,t]),f.useEffect(()=>{s()},[]);const n=({icon:a,reverse:o=!1,title:l,text:c,...u})=>i.jsxs("div",{className:o?B.infoText:B.infoTextReverse,children:[i.jsxs("div",{className:B.infoText_textPart,children:[i.jsx("h2",{className:B.header,children:l}),i.jsx("p",{children:c})]}),i.jsx("img",{src:a,alt:"Icon"})]});return i.jsxs("div",{className:[B.StartPageWrap,"pixel-border"].join(" "),children:[i.jsx("h1",{onClick:()=>{t(i.jsx("span",{children:"You'll recieve a hints like this during the game. If you want to disable them, go to Settings Tab"}))},className:B.mainHeader,children:"How to play?"}),i.jsx(n,{icon:Ve,title:"BUY HAT!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx(n,{reverse:!0,icon:It,title:"MINING!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx(n,{icon:Le,title:"SELL!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx("img",{onClick:()=>{r.set("tutorialComplete","true").then(()=>{e()})},className:B.close,src:Ze,alt:"Close"})]})},Fs="_swapElement_1ejj2_1",Ms="_oldBg_1ejj2_25",Ds="_newBg_1ejj2_43",Bs={swapElement:Fs,oldBg:Ms,newBg:Ds},$s=({background:e,bgArray:t=[]})=>et([e],{from:{filter:"blur(100px)"},enter:{filter:"blur(0)"},leave:{filter:"blur(100px)"}})((r,n)=>i.jsx(ne.div,{className:Bs.swapElement,style:{...r,backgroundImage:`url("${n}")`}})),zs="_title_1229s_1",qs="_hideOverflow_1229s_67",dt={title:zs,hideOverflow:qs},Ys=({children:e,hidden:t=!0,...s})=>{const[r,n]=f.useState(!1),a=Ne({config:{duration:100},from:{width:t?"80vw":"0px",fontSize:t?"18px":"0px",marginTop:t?0:-30,marginBottom:t?0:-30},to:{width:t?"0px":"80vw",fontSize:t?"0px":"18px",marginTop:t?-30:0,marginBottom:t?-30:0}});return f.useEffect(()=>{if(t)n(!1);else{const o=setTimeout(()=>{n(!0)},1e3);return()=>{clearTimeout(o)}}},[t]),i.jsx(ne.h1,{...s,style:a,className:[dt.title,...s.className||""].join(" "),children:i.jsxs("div",{className:dt.hideOverflow,children:[i.jsx("img",{src:"./titlebg.svg"}),e]})})},Qs="_MainPageWrap_1udvw_1",Gs="_bigHat_1udvw_13",Js="_topIcon_1udvw_25",Ks="_bottomActions_1udvw_33",We={MainPageWrap:Qs,bigHat:Gs,topIcon:Js,bottomActions:Ks},Xs="_Button_1eta5_1",Zs="_shine_1eta5_1",en={Button:Xs,shine:Zs},ge=({children:e,bg:t,...s})=>{const[r,n]=f.useState(!1),[a,o]=f.useState("0s");return f.useEffect(()=>{o(Math.random().toFixed(2)*10+"s")},[]),i.jsx("button",{style:{animationDelay:a},onMouseDown:()=>{n(!0)},onMouseUp:()=>{n(!1)},...s,className:en.Button+" "+s.className,children:i.jsx("img",{src:t,alt:"Button"})})};var tn=Object.defineProperty,sn=(e,t,s)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,I=(e,t,s)=>(sn(e,typeof t!="symbol"?t+"":t,s),s),Vt=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},x=(e,t,s)=>(Vt(e,t,"read from private field"),s?s.call(e):t.get(e)),v=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},h=(e,t,s)=>(Vt(e,t,"access private method"),s),Ue,pt,G,ie,ve,He,Fe,mt,_e,Me,xe,De,be,Be,ae,we,R,L,$e,gt,J,oe,K,le,ze,yt,qe,Ye,vt,Qe,_t,Se,Ge,ue,je,X,ce,he,Te,U,$,Z,fe,ee,de,Ce,Je,V,O,xt;const Lt=e=>Array.isArray(e),Ot=e=>Lt(e)?e:[e];let nn=function(e){let t=function(m){return Ot(m).forEach(g=>{var _;return p.set(Symbol((_=g.char)==null?void 0:_.innerText),n({...g}))}),this},s=()=>c().filter(m=>m.typeable),r=function(m,g){let _=[...p.keys()];p.set(_[m],n(g))},n=m=>(m.shouldPauseCursor=function(){return!!(this.typeable||this.cursorable||this.deletable)},m),a=function(){p.forEach(m=>delete m.done)},o=function(){p=new Map,t(e)},l=()=>p,c=()=>Array.from(p.values()),u=m=>p.delete(m),d=(m=!1)=>m?c():c().filter(g=>!g.done),y=(m,g=!1)=>g?p.delete(m):p.get(m).done=!0,p=new Map;return t(e),{add:t,set:r,wipe:o,done:y,reset:a,destroy:u,getItems:d,getQueue:l,getTypeable:s}};const Wt="data-typeit-id",q="ti-cursor",rn="END",an={started:!1,completed:!1,frozen:!1,destroyed:!1},se={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(e=>({opacity:e})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},on=`[${Wt}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`,Pe=e=>document.createElement(e),nt=e=>document.createTextNode(e),Ut=(e,t="")=>{let s=Pe("style");s.id=t,s.appendChild(nt(e)),document.head.appendChild(s)},bt=e=>(Lt(e)||(e=[e/2,e/2]),e),wt=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));let St=e=>e/2;function ln(e){let{speed:t,deleteSpeed:s,lifeLike:r}=e;return s=s!==null?s:t/3,r?[wt(t,St(t)),wt(s,St(s))]:[t,s]}const Ht=e=>Array.from(e);let rt=e=>([...e.childNodes].forEach(t=>{if(t.nodeValue){[...t.nodeValue].forEach(s=>{t.parentNode.insertBefore(nt(s),t)}),t.remove();return}rt(t)}),e);const Ft=e=>{let t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,rt(t.body)};function Mt(e,t=!1,s=!1){let r=e.querySelector(`.${q}`),n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:l=>{var c,u;if(r&&s){if((c=l.classList)!=null&&c.contains(q))return NodeFilter.FILTER_ACCEPT;if(r.contains(l))return NodeFilter.FILTER_REJECT}return(u=l.classList)!=null&&u.contains(q)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),a,o=[];for(;a=n.nextNode();)a.originalParent||(a.originalParent=a.parentNode),o.push(a);return t?o.reverse():o}function un(e){return Mt(Ft(e))}function cn(e,t=!0){return t?un(e):Ht(e).map(nt)}const Dt=e=>Number.isInteger(e),jt=({queueItems:e,selector:t,cursorPosition:s,to:r})=>{if(Dt(t))return t*-1;let n=new RegExp(rn,"i").test(r),a=t?[...e].reverse().findIndex(({char:l})=>{let c=l.parentElement,u=c.matches(t);return n&&u?!0:u&&c.firstChild.isSameNode(l)}):-1;a<0&&(a=n?0:e.length-1);let o=n?0:1;return a-s+o},hn=e=>(e.forEach(clearTimeout),[]),Ee=(e,t)=>new Array(t).fill(e);let Ae=e=>new Promise(t=>{requestAnimationFrame(async()=>{t(await e())})}),Bt=e=>e==null?void 0:e.getAnimations().find(t=>t.id===e.dataset.tiAnimationId),$t=({cursor:e,frames:t,options:s})=>{let r=e.animate(t,s);return r.pause(),r.id=e.dataset.tiAnimationId,Ae(()=>{Ae(()=>{r.play()})}),r},fn=({cursor:e,options:t,cursorOptions:s})=>{if(!e||!s)return;let r=Bt(e),n;r&&(t.delay=r.effect.getComputedTiming().delay,n=r.currentTime,r.cancel());let a=$t({cursor:e,frames:s.animation.frames,options:t});return n&&(a.currentTime=n),a},Tt=e=>{var t;return(t=e.func)==null?void 0:t.call(null)},dn=async({index:e,queueItems:t,wait:s,cursor:r,cursorOptions:n})=>{let a=t[e][1],o=[],l=e,c=a,u=()=>c&&!c.delay,d=a.shouldPauseCursor()&&n.autoPause;for(;u();)o.push(c),u()&&l++,c=t[l]?t[l][1]:null;if(o.length)return await Ae(async()=>{for(let m of o)await Tt(m)}),l-1;let y=Bt(r),p;return y&&(p={...y.effect.getComputedTiming(),delay:d?n.autoPauseDelay:0}),await s(async()=>{y&&d&&y.cancel(),await Ae(()=>{Tt(a)})},a.delay),await fn({cursor:r,options:p,cursorOptions:n}),e};const pn=(e,t)=>{new IntersectionObserver((r,n)=>{r.forEach(a=>{a.isIntersecting&&(t(),n.unobserve(e))})},{threshold:1}).observe(e)},mn=()=>Math.random().toString().substring(2,9),Re=e=>"value"in e;let gn=e=>Re(e)?Ht(e.value):Mt(e,!0).filter(t=>!(t.childNodes.length>0)),te=e=>typeof e=="function"?e():e,it=(e,t=document,s=!1)=>t[`querySelector${s?"All":""}`](e),yn=e=>/body/i.test(e==null?void 0:e.tagName),vn=(e,t)=>{if(Re(e)){e.value=`${e.value}${t.textContent}`;return}t.innerHTML="";let s=yn(t.originalParent)?e:t.originalParent||e;s.insertBefore(t,it("."+q,s)||null)};const _n=e=>/<(.+)>(.*?)<\/(.+)>/.test(e.outerHTML),pe=(e,t)=>Object.assign({},e,t);let xn=e=>{var t,s;if(typeof e=="object"){let r={},{frames:n,options:a}=se.cursor.animation;return r.animation=e.animation||{},r.animation.frames=((t=e.animation)==null?void 0:t.frames)||n,r.animation.options=pe(a,((s=e.animation)==null?void 0:s.options)||{}),r.autoPause=e.autoPause??se.cursor.autoPause,r.autoPauseDelay=e.autoPauseDelay||se.cursor.autoPauseDelay,r}return e===!0?se.cursor:e};const bn=(e,t)=>{if(!e)return;let s=e.parentNode;(s.childNodes.length>1||s.isSameNode(t)?e:s).remove()},wn=(e,t,s)=>{let r=t[s-1],n=it(`.${q}`,e);e=(r==null?void 0:r.parentNode)||e,e.insertBefore(n,r||null)};function Sn(e){return typeof e=="string"?it(e):e}let jn={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"},Tn=(e,t)=>{let r=`${`[${Wt}='${e}']`} .${q}`,n=getComputedStyle(t),a=Object.entries(jn).reduce((o,[l,c])=>`${o} ${l}: var(--ti-cursor-${l}, ${c||n[l]});`,"");Ut(`${r} { display: inline-block; width: 0; ${a} }`,e)};function Cn(e){return e.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/)}let En=(e,t,s)=>Math.min(Math.max(t+e,0),s.length),Pn=(e,t,s)=>new Promise(r=>{let n=async()=>{await e(),r()};s.push(setTimeout(n,t||0))}),Nn=(xt=class{constructor(e,t={}){v(this,Ue),v(this,G),v(this,ve),v(this,Fe),v(this,_e),v(this,xe),v(this,be),v(this,ae),v(this,R),v(this,$e),v(this,J),v(this,K),v(this,ze),v(this,Ye),v(this,Qe),v(this,Se),v(this,ue),v(this,X),v(this,he),v(this,U),v(this,Z),v(this,ee),v(this,Ce),v(this,V),I(this,"element"),I(this,"timeouts"),I(this,"cursorPosition"),I(this,"predictedCursorPosition"),I(this,"statuses",{started:!1,completed:!1,frozen:!1,destroyed:!1}),I(this,"opts"),I(this,"id"),I(this,"queue"),I(this,"cursor"),I(this,"unfreeze",()=>{}),I(this,"is",function(s){return this.statuses[s]}),v(this,qe,s=>{s.cursor=xn(s.cursor??se.cursor),this.opts.strings=h(this,Ye,vt).call(this,Ot(this.opts.strings)),this.opts=pe(this.opts,{html:!x(this,ee,de)&&this.opts.html,nextStringDelay:bt(this.opts.nextStringDelay),loopDelay:bt(this.opts.loopDelay)})}),this.opts=pe(se,t),this.element=Sn(e),this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=pe({},an),this.id=mn(),this.queue=nn([{delay:this.opts.startDelay}]),x(this,qe).call(this,t),this.cursor=h(this,Qe,_t).call(this),this.element.dataset.typeitId=this.id,Ut(on),this.opts.strings.length&&h(this,ze,yt).call(this)}go(){return this.statuses.started?this:(h(this,be,Be).call(this),this.opts.waitUntilVisible?(pn(this.element,h(this,G,ie).bind(this)),this):(h(this,G,ie).call(this),this))}destroy(e=!0){this.timeouts=hn(this.timeouts),te(e)&&this.cursor&&h(this,he,Te).call(this,this.cursor),this.statuses.destroyed=!0}reset(e){!this.is("destroyed")&&this.destroy(),e?(this.queue.wipe(),e(this)):this.queue.reset(),this.cursorPosition=0;for(let t in this.statuses)this.statuses[t]=!1;return this.element[h(this,ae,we).call(this)?"value":"innerHTML"]="",this}type(e,t={}){e=te(e);let{instant:s}=t,r=h(this,J,oe).call(this,t),a=cn(e,this.opts.html).map(l=>({func:()=>h(this,ue,je).call(this,l),char:l,delay:s||_n(l)?0:h(this,U,$).call(this),typeable:l.nodeType===Node.TEXT_NODE})),o=[r[0],{func:async()=>await this.opts.beforeString(e,this)},...a,{func:async()=>await this.opts.afterString(e,this)},r[1]];return h(this,R,L).call(this,o,t)}break(e={}){return h(this,R,L).call(this,{func:()=>h(this,ue,je).call(this,Pe("BR")),typeable:!0},e)}move(e,t={}){e=te(e);let s=h(this,J,oe).call(this,t),{instant:r,to:n}=t,a=jt({queueItems:this.queue.getTypeable(),selector:e===null?"":e,to:n,cursorPosition:x(this,Z,fe)}),o=a<0?-1:1;return this.predictedCursorPosition=x(this,Z,fe)+a,h(this,R,L).call(this,[s[0],...Ee({func:()=>h(this,ve,He).call(this,o),delay:r?0:h(this,U,$).call(this),cursorable:!0},Math.abs(a)),s[1]],t)}exec(e,t={}){let s=h(this,J,oe).call(this,t);return h(this,R,L).call(this,[s[0],{func:()=>e(this)},s[1]],t)}options(e,t={}){return e=te(e),h(this,K,le).call(this,e),h(this,R,L).call(this,{},t)}pause(e,t={}){return h(this,R,L).call(this,{delay:te(e)},t)}delete(e=null,t={}){e=te(e);let s=h(this,J,oe).call(this,t),r=e,{instant:n,to:a}=t,o=this.queue.getTypeable(),l=r===null?o.length:Dt(r)?r:jt({queueItems:o,selector:r,cursorPosition:x(this,Z,fe),to:a});return h(this,R,L).call(this,[s[0],...Ee({func:h(this,X,ce).bind(this),delay:n?0:h(this,U,$).call(this,1),deletable:!0},l),s[1]],t)}freeze(){this.statuses.frozen=!0}flush(e=()=>{}){return h(this,be,Be).call(this),h(this,G,ie).call(this,!1).then(e),this}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(e){return h(this,K,le).call(this,e)}getElement(){return this.element}empty(e={}){return h(this,R,L).call(this,{func:h(this,Ue,pt).bind(this)},e)}},Ue=new WeakSet,pt=async function(){if(h(this,ae,we).call(this)){this.element.value="";return}x(this,V,O).forEach(h(this,he,Te).bind(this))},G=new WeakSet,ie=async function(e=!0){this.statuses.started=!0;let t=s=>{this.queue.done(s,!e)};try{let s=[...this.queue.getQueue()];for(let n=0;n<s.length;n++){let[a,o]=s[n];if(!o.done){if(!o.deletable||o.deletable&&x(this,V,O).length){let l=await h(this,_e,Me).call(this,n,s);Array(l-n).fill(n+1).map((c,u)=>c+u).forEach(c=>{let[u]=s[c];t(u)}),n=l}t(a)}}if(!e)return this;if(this.statuses.completed=!0,await this.opts.afterComplete(this),!this.opts.loop)throw"";let r=this.opts.loopDelay;h(this,xe,De).call(this,async()=>{await h(this,Fe,mt).call(this,r[0]),h(this,G,ie).call(this)},r[1])}catch{}return this},ve=new WeakSet,He=async function(e){this.cursorPosition=En(e,this.cursorPosition,x(this,V,O)),wn(this.element,x(this,V,O),this.cursorPosition)},Fe=new WeakSet,mt=async function(e){let t=x(this,Z,fe);t&&await h(this,ve,He).call(this,{value:t});let s=x(this,V,O).map(r=>[Symbol(),{func:h(this,X,ce).bind(this),delay:h(this,U,$).call(this,1),deletable:!0,shouldPauseCursor:()=>!0}]);for(let r=0;r<s.length;r++)await h(this,_e,Me).call(this,r,s);this.queue.reset(),this.queue.set(0,{delay:e})},_e=new WeakSet,Me=function(e,t){return dn({index:e,queueItems:t,wait:h(this,xe,De).bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})},xe=new WeakSet,De=async function(e,t,s=!1){this.statuses.frozen&&await new Promise(r=>{this.unfreeze=()=>{this.statuses.frozen=!1,r()}}),s||await this.opts.beforeStep(this),await Pn(e,t,this.timeouts),s||await this.opts.afterStep(this)},be=new WeakSet,Be=async function(){if(!h(this,ae,we).call(this)&&this.cursor&&this.element.appendChild(this.cursor),x(this,Ce,Je)){Tn(this.id,this.element),this.cursor.dataset.tiAnimationId=this.id;let{animation:e}=this.opts.cursor,{frames:t,options:s}=e;$t({frames:t,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...s}})}},ae=new WeakSet,we=function(){return Re(this.element)},R=new WeakSet,L=function(e,t){return this.queue.add(e),h(this,$e,gt).call(this,t),this},$e=new WeakSet,gt=function(e={}){let t=e.delay;t&&this.queue.add({delay:t})},J=new WeakSet,oe=function(e={}){return[{func:()=>h(this,K,le).call(this,e)},{func:()=>h(this,K,le).call(this,this.opts)}]},K=new WeakSet,le=async function(e){this.opts=pe(this.opts,e)},ze=new WeakSet,yt=function(){let e=this.opts.strings.filter(t=>!!t);e.forEach((t,s)=>{if(this.type(t),s+1===e.length)return;let r=this.opts.breakLines?[{func:()=>h(this,ue,je).call(this,Pe("BR")),typeable:!0}]:Ee({func:h(this,X,ce).bind(this),delay:h(this,U,$).call(this,1)},this.queue.getTypeable().length);h(this,Se,Ge).call(this,r)})},qe=new WeakMap,Ye=new WeakSet,vt=function(e){let t=this.element.innerHTML;return t?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=t,rt(this.element),h(this,Se,Ge).call(this,Ee({func:h(this,X,ce).bind(this),delay:h(this,U,$).call(this,1),deletable:!0},x(this,V,O).length)),e):Cn(t).concat(e)):e},Qe=new WeakSet,_t=function(){if(x(this,ee,de))return null;let e=Pe("span");return e.className=q,x(this,Ce,Je)?(e.innerHTML=Ft(this.opts.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)},Se=new WeakSet,Ge=function(e){let t=this.opts.nextStringDelay;this.queue.add([{delay:t[0]},...e,{delay:t[1]}])},ue=new WeakSet,je=function(e){vn(this.element,e)},X=new WeakSet,ce=function(){x(this,V,O).length&&(x(this,ee,de)?this.element.value=this.element.value.slice(0,-1):h(this,he,Te).call(this,x(this,V,O)[this.cursorPosition]))},he=new WeakSet,Te=function(e){bn(e,this.element)},U=new WeakSet,$=function(e=0){return ln(this.opts)[e]},Z=new WeakSet,fe=function(){return this.predictedCursorPosition??this.cursorPosition},ee=new WeakSet,de=function(){return Re(this.element)},Ce=new WeakSet,Je=function(){return!!this.opts.cursor&&!x(this,ee,de)},V=new WeakSet,O=function(){return gn(this.element)},xt);const kn=f.forwardRef((e,t)=>{const{as:s}=e;return kt.createElement(s,{ref:t,...e})}),In={},An=({as:e="span",options:t=In,children:s=null,getBeforeInit:r=o=>o,getAfterInit:n=o=>o,...a})=>{const o=f.useRef(null),l=f.useRef(null),[c,u]=f.useState(!0),[d,y]=f.useState(null);function p(){const g=Object.assign({},t);s&&o.current&&(g.strings=o.current.innerHTML),y(g)}function m(){l.current=new Nn(o.current,d),l.current=r(l.current),l.current.go(),l.current=n(l.current)}return f.useEffect(()=>{p(),u(!1)},[t]),f.useEffect(()=>{var g;d&&((g=l.current)!=null&&g.updateOptions(d)||m())},[d]),f.useEffect(()=>()=>{var g;return(g=l.current)==null?void 0:g.destroy()},[]),kt.createElement(kn,{ref:o,as:e,children:c?s:null,style:{opacity:c?0:1},...a})},Rn="_infoWrap_198sd_1",Vn={infoWrap:Rn},at=({onClose:e})=>i.jsxs("div",{onClick:()=>{e()},className:Vn.infoWrap,children:[i.jsx("img",{src:"./question.svg",alt:"How to Play"}),i.jsx("h3",{children:"How to play"})]}),Ln=({onClose:e,onLoad:t})=>{const s=Kt();return f.useEffect(()=>{s.enable().setParams({text:"Главное действие"}).show();const r=setTimeout(()=>{t()},1500);return()=>{s.hide(),clearTimeout(r)}},[]),i.jsxs("div",{className:We.MainPageWrap,children:[i.jsx("img",{className:We.bigHat,src:Ve,alt:"Buy worker"}),i.jsxs("div",{className:We.bottomActions,children:[i.jsx(ge,{onClick:()=>{e("referral")},bg:"./ref-btn.svg"}),i.jsx(ge,{onClick:()=>{e("top buyers")},bg:"./top-btn.svg"}),i.jsx(ge,{onClick:()=>{e("referral")},bg:"./mint-btn.svg"})]}),i.jsx(at,{onClose:()=>{e("start",{hasLogo:!0,helpHidden:!0})}})]})},On="_refPageWrap_je6t7_1",Wn="_copyInput_je6t7_17",Un="_refControls_je6t7_43",Hn="_stats_je6t7_67",Fn="_statTile_je6t7_77",Mn="_refExtraHint_je6t7_123",E={refPageWrap:On,copyInput:Wn,refControls:Un,stats:Hn,statTile:Fn,refExtraHint:Mn},Ct=""+new URL("friends-Cf-mNyKv.svg",import.meta.url).href,Et=""+new URL("success-XdqEFx9m.svg",import.meta.url).href,Dn=({onClose:e,onHelp:t,onLoad:s,onToast:r})=>{const n=f.useRef(),a=Xt(),o=ye(),l=()=>{try{a.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(n.current.value)}&text=${encodeURIComponent("Join me on ZAVOD and let's earn together! Use my invite link to join the fun 💥")}`),r(i.jsxs("div",{className:E.refExtraHint,children:[i.jsx("img",{width:40,src:Et,alt:"success"}),i.jsx("p",{children:"Thank you for sharing!"})]}))}catch(d){r(i.jsxs("div",{className:E.refExtraHint,children:[i.jsx("img",{width:40,src:Ze,alt:"error"}),i.jsxs("p",{children:["Cannot share: ",d.message]}),i.jsx("p",{children:"You can also copy or manually select your ref link"})]}))}},c=()=>{navigator.clipboard.writeText(n.current.value).then(d=>{r(i.jsxs("div",{className:E.refExtraHint,children:[i.jsx("img",{width:40,src:Et,alt:"success"}),i.jsx("p",{children:"Copied to clipboard"})]}))}).catch(d=>{r(i.jsxs("div",{className:E.refExtraHint,children:[i.jsx("img",{width:40,src:Ze,alt:"Error"}),i.jsxs("p",{children:["Unable to copy reflink: ",d.message]}),i.jsx("p",{children:"You can select text manually or use share button"})]}))})},u=tt();return f.useEffect(()=>{console.log(u,e),u.show();const d=u.on("click",e);return()=>{u.off("click",d),u.hide()}},[]),f.useEffect(()=>{const d=setTimeout(()=>{s()},1500);return()=>{clearTimeout(d)}},[]),f.useEffect(()=>{o.get("tutorialToasts").then(d=>{console.log(d),d=="true"&&r(i.jsxs("div",{className:E.refExtraHint,children:[i.jsx("img",{src:Ct,alt:"your refferals image"}),i.jsx("p",{children:"You can see more info about your referrals by clicking this icon"})]}))})},[o,r]),i.jsxs("div",{className:E.refPageWrap,children:[i.jsxs("div",{className:E.stats,children:[i.jsxs("div",{className:E.statTile,children:[i.jsx("h4",{children:"hat"}),i.jsx("img",{src:Ve,alt:"hat image"}),i.jsx(me,{start:0,end:123})]}),i.jsxs("div",{className:E.statTile,children:[i.jsx("h4",{children:"money"}),i.jsx("img",{src:Le,alt:"coin image"}),i.jsx(me,{start:0,end:5e3})]}),i.jsxs("div",{className:E.statTile,children:[i.jsx("h4",{children:"friends"}),i.jsx("img",{src:Ct,alt:"your refferals image"}),i.jsx(me,{start:0,end:12})]}),i.jsx("div",{className:E.statTile,children:i.jsx("span",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit"})})]}),i.jsx("input",{onClick:c,ref:n,className:E.copyInput,type:"text",disabled:!0,value:"https://t.me/zavod?start=test123"}),i.jsxs("div",{className:E.refControls,children:[i.jsx(ge,{onClick:c,bg:"./copy-btn.svg"}),i.jsx(ge,{onClick:l,bg:"./share-btn.svg"})]}),i.jsx(at,{onClose:t})]})},Bn="_topUser_1v1vj_1",$n="_topUserYou_1v1vj_1",zn="_placeAndAvatar_1v1vj_43",qn="_PlaceWrap_1v1vj_53",Yn="_CoinCount_1v1vj_67",Qn="_WalletInfo_1v1vj_91",Gn="_UserRelated_1v1vj_105",z={topUser:Bn,topUserYou:$n,placeAndAvatar:zn,PlaceWrap:qn,CoinCount:Yn,WalletInfo:Qn,UserRelated:Gn},Jn=({Wallet:e,count:t,place:s,isYou:r=!1,...n})=>i.jsxs("div",{onClick:r?a=>{console.log(a.currentTarget.offsetTop),a.currentTarget.parentElement.scrollTo({top:a.currentTarget.previousElementSibling.offsetTop}),console.log(a.currentTarget.offsetTop)}:void 0,...n,className:r?z.topUserYou:z.topUser,children:[i.jsxs("div",{className:z.WalletInfo,children:[i.jsxs("div",{className:z.UserRelated,children:[i.jsx("img",{src:"./avatar.svg",alt:`${e}'s avatar`}),i.jsx("p",{children:r?`You: ${e.slice(0,9)}...${e.slice(e.length-3)}`:i.jsxs(i.Fragment,{children:[e.slice(0,5),"...",e.slice(e.length-3)]})})]}),i.jsxs("div",{className:z.CoinCount,children:[i.jsxs("p",{children:["~",t.toFixed(0)]}),i.jsx("img",{src:Le})]})]}),i.jsx("div",{className:z.placeAndAvatar,children:s<=2?i.jsx("img",{src:["./first-place.svg","./second-place.svg","./third-place.svg"][s]}):i.jsx("p",{className:z.PlaceWrap,children:s+1})})]}),Kn="_topWrapper_1338k_1",Xn="_topPage_1338k_39",Pt={topWrapper:Kn,topPage:Xn},Zn=({onClose:e,onHelp:t,onLoad:s,onToast:r})=>{const n=tt(),[a,o]=f.useState([]),[l,c]=f.useState(!0),[u,d]=f.useState(-1),y=ye();return f.useEffect(()=>{n.show();const p=n.on("click",e);return()=>{n.off("click",p),n.hide()}},[]),f.useEffect(()=>{y.get("tutorialToasts").then(p=>{console.log("TT:",p),p=="true"&&r(i.jsxs("span",{children:["Here you can track your progress and compete other players!",i.jsx("br",{}),i.jsx("br",{}),"Click anywhere to close the hint"]}))})},[y,r]),f.useEffect(()=>{fetch("https://tonapi.io/v2/jettons/0%3Acab0d1a4871a04d8ad72aa6f404e2d7c1e54b53202f203c72e95c9e0199c3066/holders?limit=1000&offset=0").then(async p=>{const m=await p.json();o(m.addresses),c(!1),s()}).catch(p=>{alert(`Unable to get Top right now! Perhaps you're refreshing it too often?
Error message: `+JSON.stringify(p))})},[]),i.jsxs("div",{className:Pt.topPage,children:[i.jsx("div",{className:Pt.topWrapper,children:l?"Loading...":a.map((p,m)=>i.jsx(Jn,{isYou:m==u,Wallet:p.owner.address,count:Number(p.balance),place:m},m))}),i.jsx(at,{onClose:t})]})},er="_toastManager_xmm6k_1",tr="_toast_xmm6k_1",sr="_bgImage_xmm6k_57",Ke={toastManager:er,toast:tr,bgImage:sr},nr=({children:e,onClick:t})=>{const s=et(e?[e]:[],{from:{opacity:0,transform:"rotate(-90deg)",marginLeft:"-300%"},enter:{opacity:1,transform:"rotate(0deg)",marginLeft:"0%"},leave:{opacity:0,transform:"rotate(-90deg)",marginLeft:"-300%"},exitBeforeEnter:!0});return i.jsx("div",{onClick:t,className:Ke.toastManager,children:s((r,n)=>i.jsxs(ne.div,{style:r,className:Ke.toast,children:[i.jsx("img",{className:Ke.bgImage,src:"./toast.svg"}),n]}))})},rr=({onClose:e,onLoad:t})=>{const[s,r]=f.useState(!1),[n,a]=f.useState(!0),o=ye(),l=tt();f.useEffect(()=>{o.get("tutorialComplete").then(d=>{console.log("tc:",d),r(JSON.parse(d)||!1),o.get("tutorialToasts").then(y=>{console.log("tt:",y),a(JSON.parse(y)),t()})})},[o]),f.useEffect(()=>{l.show();const d=l.on("click",()=>{e()});return()=>{l.off("click",d),l.hide()}},[]);const c=()=>{o.set("tutorialComplete",String(!s)).then(()=>{console.log(`Changed Tutorial: from ${s} to ${!s}`),r(!s)})},u=()=>{o.set("tutorialToasts",String(!n)).then(()=>{console.log(`Changed tutorialToasts: from ${n} to ${!n}`),a(!n)})};return i.jsxs("div",{children:[i.jsxs("button",{onClick:c,children:[s?"Disable":"Enable"," Tutorial"]}),i.jsxs("button",{onClick:u,children:["Tutorial Toasts: ",n?"✅":"❌"]})]})},Nt=""+new URL("../backgroundstart.png",import.meta.url).href;function lr(){const[e,t]=f.useState(!0),[s,r]=f.useState(!1),n=ye(),[a,o]=f.useState("start"),[l,c]=f.useState(!0),[u,d]=f.useState("main"),[y,p]=f.useState(!1);f.useState(!0);const m="/21 000 000";f.useState("");const[g,_]=f.useState(!1),[b,W]=f.useState(()=>{}),[j,P]=f.useState(""),S=Zt(),T={Loading:Nt,start:Nt,main:"./backgroundmain.png",referral:"./backgroundref.png","top buyers":"./backgroundtop.png"},[H,F]=f.useState(T.start),Y=f.useCallback(()=>{n.set("tutorialComplete","true"),console.log("goingTo: ",u),setTimeout(()=>{D(u,{hasLogo:u=="main",hasHeader:u=="main",logoMinimized:!0})},500)},[u,n]),C=()=>{d(a),D("start",{hasLogo:!0,helpHidden:!0})},M=()=>{D(u,{hasLogo:u=="main",hasHeader:u=="main",logoMinimized:!0})},Q=()=>{d(a),D("settings",{hasLogo:!1,helpHidden:!1})},D=(k,N={hasLogo:!1,hasHeader:!1,hasToLoad:!1,logoMinimized:!1})=>{N.hasToLoad&&t(!0),F(T[k]),p(!N.hasLogo),c(!N.hasHeader),r(N.logoMinimized),o(k),t(!0)},re=()=>{t(!1)},zt=et([a],{from:{translateY:"300%"},enter:{translateY:"0%"},leave:{translateY:"300%"},exitBeforeEnter:!0}),qt={Loading:"Loading...",start:i.jsx(Hs,{onLoad:re,onToast:P,onClose:Y}),main:i.jsx(Ln,{onLoad:re,onToast:P,onClose:D}),referral:i.jsx(Dn,{onLoad:re,onToast:P,onHelp:C,onClose:()=>{D("main",{hasLogo:!0,hasHeader:!0,logoMinimized:!0})}}),"top buyers":i.jsx(Zn,{onLoad:re,onToast:P,onHelp:C,onClose:()=>{D("main",{hasLogo:!0,hasHeader:!0,logoMinimized:!0})}}),settings:i.jsx(rr,{onLoad:re,onClose:M})};return f.useEffect(()=>(console.log("new call",g,a,b),a=="main"?_(!1):g!==!1&&(console.log("!!!!!!"),a=="main"?(g.delete().type("0"+m),console.log("startin"),b()):g.delete().type(a)),()=>{try{g.delete(!0)}catch{}}),[b,g,a,Y]),f.useEffect(()=>{console.log(n),n.get("tutorialComplete").then(k=>{t(!1);const N=JSON.parse(k);console.log(N),o(N?"main":"start"),c(!N)})},[n]),f.useEffect(()=>{S.show();const k=S.on("click",()=>{Q()});return a=="settings"&&S.hide(),()=>{k()}},[S,a,u]),i.jsxs("main",{children:[i.jsx($s,{bgArray:T,background:H}),i.jsx(Es,{hidden:l}),i.jsx(Is,{minimized:s,hidden:y,onClick:()=>{r(!s)}}),i.jsx(Ys,{hidden:a=="start",children:i.jsx(me,{separator:" ",redraw:a!="main",start:0,end:19399333,suffix:m,children:({countUpRef:k,start:N})=>i.jsxs("div",{children:[a!="main"?i.jsx(An,{getAfterInit:ot=>(_(ot),W(N),ot),options:{cursor:!1,waitUntilVisible:!0}}):"",i.jsx("span",{style:{position:a!="main"?"fixed":"relative",opacity:+(a=="main")},ref:k})]})})}),i.jsx(Qt,{isLoading:e}),zt((k,N)=>i.jsx(ne.div,{style:{...k,transition:"0.1s 0.3s transform ease-out",translateY:e?"300%":"0%"},children:qt[N]})),i.jsx(nr,{onClick:()=>{P("")},children:j})]})}export{lr as default};
