import{j as i,g as $t,r as d,u as Ce,a as se,c as at,b as Xe,R as Ct,L as zt}from"./index-DW9N_Mf_.js";import{useTonConnectModal as qt,useTonAddress as Yt}from"./index-Dq4rr--8.js";import{useCloudStorage as me,useMainButton as Qt,useUtils as Gt,useBackButton as Ze,useSettingsButton as Jt}from"./index-0IMrZWL7.js";const Kt=""+new URL("wallet-0L6284XF.svg",import.meta.url).href,Xt="_walletImg_6a6wk_1",Zt="_WalletConWrap_6a6wk_21",ot={walletImg:Xt,WalletConWrap:Zt},es=()=>{const e=qt(),t=Yt(!0);return i.jsxs("div",{className:ot.WalletConWrap,children:[i.jsx("img",{className:ot.walletImg,onClick:s=>{t.length==0?e.open():alert("Wallet is already connected")},src:Kt,alt:"Connect Wallet"}),t]})},Ae=""+new URL("hat-icon-B7aTinpH.svg",import.meta.url).href,Pt=""+new URL("cup-rS1Pwblk.svg",import.meta.url).href,Re=""+new URL("coin-Cx2wDCZ1.svg",import.meta.url).href,ts="_statWrapper_1bzes_1",ss="_icon_1bzes_39",lt={statWrapper:ts,icon:ss};var et={},Pe=function(){return Pe=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Pe.apply(this,arguments)},ns=function(){function e(t,s,r){var n=this;this.endVal=s,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(a){n.startTime||(n.startTime=a);var o=a-n.startTime;n.remaining=n.duration-o,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(o,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(o,n.startVal,n.endVal-n.startVal,n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(o/n.duration);var l=n.countDown?n.frameVal<n.endVal:n.frameVal>n.endVal;n.frameVal=l?n.endVal:n.frameVal,n.frameVal=Number(n.frameVal.toFixed(n.options.decimalPlaces)),n.printValue(n.frameVal),o<n.duration?n.rAF=requestAnimationFrame(n.count):n.finalEndVal!==null?n.update(n.finalEndVal):n.options.onCompleteCallback&&n.options.onCompleteCallback()},this.formatNumber=function(a){var o,l,u,h,p=a<0?"-":"";o=Math.abs(a).toFixed(n.options.decimalPlaces);var y=(o+="").split(".");if(l=y[0],u=y.length>1?n.options.decimal+y[1]:"",n.options.useGrouping){h="";for(var f=3,m=0,g=0,x=l.length;g<x;++g)n.options.useIndianSeparators&&g===4&&(f=2,m=1),g!==0&&m%f==0&&(h=n.options.separator+h),m++,h=l[x-g-1]+h;l=h}return n.options.numerals&&n.options.numerals.length&&(l=l.replace(/[0-9]/g,function(b){return n.options.numerals[+b]}),u=u.replace(/[0-9]/g,function(b){return n.options.numerals[+b]})),p+n.options.prefix+l+u+n.options.suffix},this.easeOutExpo=function(a,o,l,u){return l*(1-Math.pow(2,-10*a/u))*1024/1023+o},this.options=Pe(Pe({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(s),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof t=="string"?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return n.handleScroll(n)}),window.onscroll=function(){window.onScrollFns.forEach(function(a){return a()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(t){if(t&&window&&!t.once){var s=window.innerHeight+window.scrollY,r=t.el.getBoundingClientRect(),n=r.top+window.pageYOffset,a=r.top+r.height+window.pageYOffset;a<s&&a>window.scrollY&&t.paused?(t.paused=!1,setTimeout(function(){return t.start()},t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>a||n>s)&&!t.paused&&t.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var s=t-this.startVal;if(Math.abs(s)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var r=this.countDown?1:-1;this.endVal=t+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(t){var s;if(this.el){var r=this.formattingFn(t);!((s=this.options.plugin)===null||s===void 0)&&s.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},e.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},e.prototype.validateValue=function(t){var s=Number(t);return this.ensureNumber(s)?s:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const rs=Object.freeze(Object.defineProperty({__proto__:null,CountUp:ns},Symbol.toStringTag,{value:"Module"})),is=$t(rs);Object.defineProperty(et,"__esModule",{value:!0});var w=d,as=is;function os(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var r,n,a,o,l=[],u=!0,h=!1;try{if(a=(s=s.call(e)).next,t!==0)for(;!(u=(r=a.call(s)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(p){h=!0,n=p}finally{try{if(!u&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(h)throw n}}return l}}function ut(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,r)}return s}function Ne(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ut(Object(s),!0).forEach(function(r){cs(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ut(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function ls(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(e){var t=ls(e,"string");return typeof t=="symbol"?t:String(t)}function cs(e,t,s){return t=us(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Je.apply(this,arguments)}function hs(e,t){if(e==null)return{};var s={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function Nt(e,t){if(e==null)return{};var s=hs(e,t),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ds(e,t){return fs(e)||os(e,t)||ps(e,t)||ms()}function fs(e){if(Array.isArray(e))return e}function ps(e,t){if(e){if(typeof e=="string")return ct(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ct(e,t)}}function ct(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function ms(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function A(e){var t=w.useRef(e);return gs(function(){t.current=e}),w.useCallback(function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return t.current.apply(void 0,r)},[])}var ys=function(t,s){var r=s.decimal,n=s.decimals,a=s.duration,o=s.easingFn,l=s.end,u=s.formattingFn,h=s.numerals,p=s.prefix,y=s.separator,f=s.start,m=s.suffix,g=s.useEasing,x=s.useGrouping,b=s.useIndianSeparators,U=s.enableScrollSpy,S=s.scrollSpyDelay,P=s.scrollSpyOnce,j=s.plugin;return new as.CountUp(t,l,{startVal:f,duration:a,decimal:r,decimalPlaces:n,easingFn:o,formattingFn:u,numerals:h,separator:y,prefix:p,suffix:m,plugin:j,useEasing:g,useIndianSeparators:b,useGrouping:x,enableScrollSpy:U,scrollSpyDelay:S,scrollSpyOnce:P})},vs=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],xs={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},kt=function(t){var s=Object.fromEntries(Object.entries(t).filter(function(E){var N=ds(E,2),R=N[1];return R!==void 0})),r=w.useMemo(function(){return Ne(Ne({},xs),s)},[t]),n=r.ref,a=r.startOnMount,o=r.enableReinitialize,l=r.delay,u=r.onEnd,h=r.onStart,p=r.onPauseResume,y=r.onReset,f=r.onUpdate,m=Nt(r,vs),g=w.useRef(),x=w.useRef(),b=w.useRef(!1),U=A(function(){return ys(typeof n=="string"?n:n.current,m)}),S=A(function(E){var N=g.current;if(N&&!E)return N;var R=U();return g.current=R,R}),P=A(function(){var E=function(){return S(!0).start(function(){u==null||u({pauseResume:j,reset:T,start:D,update:M})})};l&&l>0?x.current=setTimeout(E,l*1e3):E(),h==null||h({pauseResume:j,reset:T,update:M})}),j=A(function(){S().pauseResume(),p==null||p({reset:T,start:D,update:M})}),T=A(function(){S().el&&(x.current&&clearTimeout(x.current),S().reset(),y==null||y({pauseResume:j,start:D,update:M}))}),M=A(function(E){S().update(E),f==null||f({pauseResume:j,reset:T,start:D})}),D=A(function(){T(),P()}),Y=A(function(E){a&&(E&&T(),P())});return w.useEffect(function(){b.current?o&&Y(!0):(b.current=!0,Y())},[o,b,Y,l,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),w.useEffect(function(){return function(){T()}},[T]),{start:D,pauseResume:j,reset:T,update:M,getCountUp:S}},_s=["className","redraw","containerProps","children","style"],bs=function(t){var s=t.className,r=t.redraw,n=t.containerProps,a=t.children,o=t.style,l=Nt(t,_s),u=w.useRef(null),h=w.useRef(!1),p=kt(Ne(Ne({},l),{},{ref:u,startOnMount:typeof a!="function"||t.delay===0,enableReinitialize:!1})),y=p.start,f=p.reset,m=p.update,g=p.pauseResume,x=p.getCountUp,b=A(function(){y()}),U=A(function(j){t.preserveValue||f(),m(j)}),S=A(function(){if(typeof t.children=="function"&&!(u.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}x()});w.useEffect(function(){S()},[S]),w.useEffect(function(){h.current&&U(t.end)},[t.end,U]);var P=r&&t;return w.useEffect(function(){r&&h.current&&b()},[b,r,P]),w.useEffect(function(){!r&&h.current&&b()},[b,r,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),w.useEffect(function(){h.current=!0},[]),typeof a=="function"?a({countUpRef:u,start:y,reset:f,update:m,pauseResume:g,getCountUp:x}):w.createElement("span",Je({className:s,ref:u,style:o},n),typeof t.start<"u"?x().formattingFn(t.start):"")},fe=et.default=bs;et.useCountUp=kt;const Ve=({icon:e,value:t,...s})=>i.jsxs("div",{className:[lt.statWrapper,"pixel-border"].join(" "),children:[i.jsx("img",{className:lt.icon,src:e}),i.jsx(fe,{start:0,end:t,separator:" "})]}),ws="_headerWrap_j6ys5_1",Ss={headerWrap:ws},js=({hidden:e=!1})=>{const[t,s]=d.useState(!1),r=Ce({from:{marginTop:e?"0":"-15%"},to:{marginTop:e?"-15%":"0"}});return d.useEffect(()=>{if(e){console.log("TIMEOUT SET");const n=setTimeout(()=>{s(e)},1e3);return()=>{clearTimeout(n)}}else console.log(e),s(!1)},[e]),i.jsxs(se.header,{style:r,className:Ss.headerWrap,children:[t?i.jsxs(i.Fragment,{children:[i.jsx("div",{})," ",i.jsx("div",{}),i.jsx("div",{})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ve,{icon:Ae,value:1e3}),i.jsx(Ve,{icon:Pt,value:1e3}),i.jsx(Ve,{icon:Re,value:1e3})]}),i.jsx(es,{})]})},Ts=""+new URL("logo-dark-pxcTu58g.svg",import.meta.url).href,Es="_logoStyle_1mpkp_1",Cs={logoStyle:Es},Ps=({minimized:e=!1,hidden:t=!1,...s})=>{const r=Ce({config:at.stiff,from:{width:t?"50vw":"0%"},to:{width:t?"0%":"50vw"},reset:!1}),n=Ce({config:at.gentle,from:{scale:e?"100%":"70%"},to:{scale:e?"70%":"100%"},reset:!1});return i.jsx(se.img,{...s,style:{...r,...n},className:Cs.logoStyle,src:Ts,alt:"The zavod"})},Ns="_StartPageWrap_1swmr_1",ks="_infoText_1swmr_49",Is="_infoTextReverse_1swmr_49",As="_infoText_textPart_1swmr_59",Rs="_header_1swmr_75",Vs="_mainHeader_1swmr_85",Os="_close_1swmr_97",B={StartPageWrap:Ns,infoText:ks,infoTextReverse:Is,infoText_textPart:As,header:Rs,mainHeader:Vs,close:Os},Ke=""+new URL("close-D8nR8gUl.svg",import.meta.url).href,Ls=({onClose:e,onToast:t,onLoad:s})=>{const r=me();d.useEffect(()=>{r.get("tutorialToasts").then(a=>{a=="true"&&t(i.jsxs("span",{children:["You'll recieve a hints like this during the game. If you want to disable them, go to Settings",i.jsx("br",{}),i.jsx("br",{}),"Click anywhere to close the hint"]}))})},[r,t]),d.useEffect(()=>{s()},[]);const n=({icon:a,reverse:o=!1,title:l,text:u,...h})=>i.jsxs("div",{className:o?B.infoText:B.infoTextReverse,children:[i.jsxs("div",{className:B.infoText_textPart,children:[i.jsx("h2",{className:B.header,children:l}),i.jsx("p",{children:u})]}),i.jsx("img",{src:a,alt:"Icon"})]});return i.jsxs("div",{className:[B.StartPageWrap,"pixel-border"].join(" "),children:[i.jsx("h1",{onClick:()=>{t(i.jsx("span",{children:"You'll recieve a hints like this during the game. If you want to disable them, go to Settings Tab"}))},className:B.mainHeader,children:"How to play?"}),i.jsx(n,{icon:Ae,title:"BUY HAT!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx(n,{reverse:!0,icon:Pt,title:"MINING!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx(n,{icon:Re,title:"sELL!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx("img",{onClick:()=>{e(),r.set("tutorialComplete","true")},className:B.close,src:Ke,alt:"Close"})]})},Ws="_swapElement_1ejj2_1",Us="_oldBg_1ejj2_25",Hs="_newBg_1ejj2_43",Fs={swapElement:Ws,oldBg:Us,newBg:Hs},Ms=({background:e,bgArray:t=[]})=>Xe([e],{from:{filter:"blur(100px)"},enter:{filter:"blur(0)"},leave:{filter:"blur(100px)"}})((r,n)=>i.jsx(se.div,{className:Fs.swapElement,style:{...r,backgroundImage:`url("${n}")`}})),Ds="_title_1229s_1",Bs="_hideOverflow_1229s_67",ht={title:Ds,hideOverflow:Bs},$s=({children:e,hidden:t=!0,...s})=>{const[r,n]=d.useState(!1),a=Ce({config:{duration:100},from:{width:t?"80vw":"0px",fontSize:t?"18px":"0px",marginTop:t?0:-30,marginBottom:t?0:-30},to:{width:t?"0px":"80vw",fontSize:t?"0px":"18px",marginTop:t?-30:0,marginBottom:t?-30:0}});return d.useEffect(()=>{if(t)n(!1);else{const o=setTimeout(()=>{n(!0)},1e3);return()=>{clearTimeout(o)}}},[t]),i.jsx(se.h1,{...s,style:a,className:[ht.title,...s.className||""].join(" "),children:i.jsxs("div",{className:ht.hideOverflow,children:[i.jsx("img",{src:"./titlebg.svg"}),e]})})},zs="_MainPageWrap_1udvw_1",qs="_bigHat_1udvw_13",Ys="_topIcon_1udvw_25",Qs="_bottomActions_1udvw_33",Oe={MainPageWrap:zs,bigHat:qs,topIcon:Ys,bottomActions:Qs},Gs="_Button_ybt3h_1",Js="_shine_ybt3h_1",Ks={Button:Gs,shine:Js},pe=({children:e,bg:t,...s})=>{const[r,n]=d.useState(!1),[a,o]=d.useState("0s");return d.useEffect(()=>{o(Math.random().toFixed(2)*10+"s")},[]),i.jsx("button",{style:{animationDelay:a},onMouseDown:()=>{n(!0)},onMouseUp:()=>{n(!1)},...s,className:Ks.Button+" "+s.className,children:i.jsx("img",{src:t,alt:"Button"})})};var Xs=Object.defineProperty,Zs=(e,t,s)=>t in e?Xs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,I=(e,t,s)=>(Zs(e,typeof t!="symbol"?t+"":t,s),s),It=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},_=(e,t,s)=>(It(e,t,"read from private field"),s?s.call(e):t.get(e)),v=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},c=(e,t,s)=>(It(e,t,"access private method"),s),Le,dt,Q,ne,ge,We,Ue,ft,ye,He,ve,Fe,xe,Me,re,_e,V,L,De,pt,G,ie,J,ae,Be,mt,$e,ze,gt,qe,yt,be,Ye,oe,we,K,le,ue,Se,F,$,X,ce,Z,he,je,Qe,O,W,vt;const At=e=>Array.isArray(e),Rt=e=>At(e)?e:[e];let en=function(e){let t=function(m){return Rt(m).forEach(g=>{var x;return f.set(Symbol((x=g.char)==null?void 0:x.innerText),n({...g}))}),this},s=()=>u().filter(m=>m.typeable),r=function(m,g){let x=[...f.keys()];f.set(x[m],n(g))},n=m=>(m.shouldPauseCursor=function(){return!!(this.typeable||this.cursorable||this.deletable)},m),a=function(){f.forEach(m=>delete m.done)},o=function(){f=new Map,t(e)},l=()=>f,u=()=>Array.from(f.values()),h=m=>f.delete(m),p=(m=!1)=>m?u():u().filter(g=>!g.done),y=(m,g=!1)=>g?f.delete(m):f.get(m).done=!0,f=new Map;return t(e),{add:t,set:r,wipe:o,done:y,reset:a,destroy:h,getItems:p,getQueue:l,getTypeable:s}};const Vt="data-typeit-id",q="ti-cursor",tn="END",sn={started:!1,completed:!1,frozen:!1,destroyed:!1},te={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(e=>({opacity:e})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},nn=`[${Vt}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`,Ee=e=>document.createElement(e),tt=e=>document.createTextNode(e),Ot=(e,t="")=>{let s=Ee("style");s.id=t,s.appendChild(tt(e)),document.head.appendChild(s)},xt=e=>(At(e)||(e=[e/2,e/2]),e),_t=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));let bt=e=>e/2;function rn(e){let{speed:t,deleteSpeed:s,lifeLike:r}=e;return s=s!==null?s:t/3,r?[_t(t,bt(t)),_t(s,bt(s))]:[t,s]}const Lt=e=>Array.from(e);let st=e=>([...e.childNodes].forEach(t=>{if(t.nodeValue){[...t.nodeValue].forEach(s=>{t.parentNode.insertBefore(tt(s),t)}),t.remove();return}st(t)}),e);const Wt=e=>{let t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,st(t.body)};function Ut(e,t=!1,s=!1){let r=e.querySelector(`.${q}`),n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:l=>{var u,h;if(r&&s){if((u=l.classList)!=null&&u.contains(q))return NodeFilter.FILTER_ACCEPT;if(r.contains(l))return NodeFilter.FILTER_REJECT}return(h=l.classList)!=null&&h.contains(q)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),a,o=[];for(;a=n.nextNode();)a.originalParent||(a.originalParent=a.parentNode),o.push(a);return t?o.reverse():o}function an(e){return Ut(Wt(e))}function on(e,t=!0){return t?an(e):Lt(e).map(tt)}const Ht=e=>Number.isInteger(e),wt=({queueItems:e,selector:t,cursorPosition:s,to:r})=>{if(Ht(t))return t*-1;let n=new RegExp(tn,"i").test(r),a=t?[...e].reverse().findIndex(({char:l})=>{let u=l.parentElement,h=u.matches(t);return n&&h?!0:h&&u.firstChild.isSameNode(l)}):-1;a<0&&(a=n?0:e.length-1);let o=n?0:1;return a-s+o},ln=e=>(e.forEach(clearTimeout),[]),Te=(e,t)=>new Array(t).fill(e);let ke=e=>new Promise(t=>{requestAnimationFrame(async()=>{t(await e())})}),Ft=e=>e==null?void 0:e.getAnimations().find(t=>t.id===e.dataset.tiAnimationId),Mt=({cursor:e,frames:t,options:s})=>{let r=e.animate(t,s);return r.pause(),r.id=e.dataset.tiAnimationId,ke(()=>{ke(()=>{r.play()})}),r},un=({cursor:e,options:t,cursorOptions:s})=>{if(!e||!s)return;let r=Ft(e),n;r&&(t.delay=r.effect.getComputedTiming().delay,n=r.currentTime,r.cancel());let a=Mt({cursor:e,frames:s.animation.frames,options:t});return n&&(a.currentTime=n),a},St=e=>{var t;return(t=e.func)==null?void 0:t.call(null)},cn=async({index:e,queueItems:t,wait:s,cursor:r,cursorOptions:n})=>{let a=t[e][1],o=[],l=e,u=a,h=()=>u&&!u.delay,p=a.shouldPauseCursor()&&n.autoPause;for(;h();)o.push(u),h()&&l++,u=t[l]?t[l][1]:null;if(o.length)return await ke(async()=>{for(let m of o)await St(m)}),l-1;let y=Ft(r),f;return y&&(f={...y.effect.getComputedTiming(),delay:p?n.autoPauseDelay:0}),await s(async()=>{y&&p&&y.cancel(),await ke(()=>{St(a)})},a.delay),await un({cursor:r,options:f,cursorOptions:n}),e};const hn=(e,t)=>{new IntersectionObserver((r,n)=>{r.forEach(a=>{a.isIntersecting&&(t(),n.unobserve(e))})},{threshold:1}).observe(e)},dn=()=>Math.random().toString().substring(2,9),Ie=e=>"value"in e;let fn=e=>Ie(e)?Lt(e.value):Ut(e,!0).filter(t=>!(t.childNodes.length>0)),ee=e=>typeof e=="function"?e():e,nt=(e,t=document,s=!1)=>t[`querySelector${s?"All":""}`](e),pn=e=>/body/i.test(e==null?void 0:e.tagName),mn=(e,t)=>{if(Ie(e)){e.value=`${e.value}${t.textContent}`;return}t.innerHTML="";let s=pn(t.originalParent)?e:t.originalParent||e;s.insertBefore(t,nt("."+q,s)||null)};const gn=e=>/<(.+)>(.*?)<\/(.+)>/.test(e.outerHTML),de=(e,t)=>Object.assign({},e,t);let yn=e=>{var t,s;if(typeof e=="object"){let r={},{frames:n,options:a}=te.cursor.animation;return r.animation=e.animation||{},r.animation.frames=((t=e.animation)==null?void 0:t.frames)||n,r.animation.options=de(a,((s=e.animation)==null?void 0:s.options)||{}),r.autoPause=e.autoPause??te.cursor.autoPause,r.autoPauseDelay=e.autoPauseDelay||te.cursor.autoPauseDelay,r}return e===!0?te.cursor:e};const vn=(e,t)=>{if(!e)return;let s=e.parentNode;(s.childNodes.length>1||s.isSameNode(t)?e:s).remove()},xn=(e,t,s)=>{let r=t[s-1],n=nt(`.${q}`,e);e=(r==null?void 0:r.parentNode)||e,e.insertBefore(n,r||null)};function _n(e){return typeof e=="string"?nt(e):e}let bn={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"},wn=(e,t)=>{let r=`${`[${Vt}='${e}']`} .${q}`,n=getComputedStyle(t),a=Object.entries(bn).reduce((o,[l,u])=>`${o} ${l}: var(--ti-cursor-${l}, ${u||n[l]});`,"");Ot(`${r} { display: inline-block; width: 0; ${a} }`,e)};function Sn(e){return e.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/)}let jn=(e,t,s)=>Math.min(Math.max(t+e,0),s.length),Tn=(e,t,s)=>new Promise(r=>{let n=async()=>{await e(),r()};s.push(setTimeout(n,t||0))}),En=(vt=class{constructor(e,t={}){v(this,Le),v(this,Q),v(this,ge),v(this,Ue),v(this,ye),v(this,ve),v(this,xe),v(this,re),v(this,V),v(this,De),v(this,G),v(this,J),v(this,Be),v(this,ze),v(this,qe),v(this,be),v(this,oe),v(this,K),v(this,ue),v(this,F),v(this,X),v(this,Z),v(this,je),v(this,O),I(this,"element"),I(this,"timeouts"),I(this,"cursorPosition"),I(this,"predictedCursorPosition"),I(this,"statuses",{started:!1,completed:!1,frozen:!1,destroyed:!1}),I(this,"opts"),I(this,"id"),I(this,"queue"),I(this,"cursor"),I(this,"unfreeze",()=>{}),I(this,"is",function(s){return this.statuses[s]}),v(this,$e,s=>{s.cursor=yn(s.cursor??te.cursor),this.opts.strings=c(this,ze,gt).call(this,Rt(this.opts.strings)),this.opts=de(this.opts,{html:!_(this,Z,he)&&this.opts.html,nextStringDelay:xt(this.opts.nextStringDelay),loopDelay:xt(this.opts.loopDelay)})}),this.opts=de(te,t),this.element=_n(e),this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=de({},sn),this.id=dn(),this.queue=en([{delay:this.opts.startDelay}]),_(this,$e).call(this,t),this.cursor=c(this,qe,yt).call(this),this.element.dataset.typeitId=this.id,Ot(nn),this.opts.strings.length&&c(this,Be,mt).call(this)}go(){return this.statuses.started?this:(c(this,xe,Me).call(this),this.opts.waitUntilVisible?(hn(this.element,c(this,Q,ne).bind(this)),this):(c(this,Q,ne).call(this),this))}destroy(e=!0){this.timeouts=ln(this.timeouts),ee(e)&&this.cursor&&c(this,ue,Se).call(this,this.cursor),this.statuses.destroyed=!0}reset(e){!this.is("destroyed")&&this.destroy(),e?(this.queue.wipe(),e(this)):this.queue.reset(),this.cursorPosition=0;for(let t in this.statuses)this.statuses[t]=!1;return this.element[c(this,re,_e).call(this)?"value":"innerHTML"]="",this}type(e,t={}){e=ee(e);let{instant:s}=t,r=c(this,G,ie).call(this,t),a=on(e,this.opts.html).map(l=>({func:()=>c(this,oe,we).call(this,l),char:l,delay:s||gn(l)?0:c(this,F,$).call(this),typeable:l.nodeType===Node.TEXT_NODE})),o=[r[0],{func:async()=>await this.opts.beforeString(e,this)},...a,{func:async()=>await this.opts.afterString(e,this)},r[1]];return c(this,V,L).call(this,o,t)}break(e={}){return c(this,V,L).call(this,{func:()=>c(this,oe,we).call(this,Ee("BR")),typeable:!0},e)}move(e,t={}){e=ee(e);let s=c(this,G,ie).call(this,t),{instant:r,to:n}=t,a=wt({queueItems:this.queue.getTypeable(),selector:e===null?"":e,to:n,cursorPosition:_(this,X,ce)}),o=a<0?-1:1;return this.predictedCursorPosition=_(this,X,ce)+a,c(this,V,L).call(this,[s[0],...Te({func:()=>c(this,ge,We).call(this,o),delay:r?0:c(this,F,$).call(this),cursorable:!0},Math.abs(a)),s[1]],t)}exec(e,t={}){let s=c(this,G,ie).call(this,t);return c(this,V,L).call(this,[s[0],{func:()=>e(this)},s[1]],t)}options(e,t={}){return e=ee(e),c(this,J,ae).call(this,e),c(this,V,L).call(this,{},t)}pause(e,t={}){return c(this,V,L).call(this,{delay:ee(e)},t)}delete(e=null,t={}){e=ee(e);let s=c(this,G,ie).call(this,t),r=e,{instant:n,to:a}=t,o=this.queue.getTypeable(),l=r===null?o.length:Ht(r)?r:wt({queueItems:o,selector:r,cursorPosition:_(this,X,ce),to:a});return c(this,V,L).call(this,[s[0],...Te({func:c(this,K,le).bind(this),delay:n?0:c(this,F,$).call(this,1),deletable:!0},l),s[1]],t)}freeze(){this.statuses.frozen=!0}flush(e=()=>{}){return c(this,xe,Me).call(this),c(this,Q,ne).call(this,!1).then(e),this}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(e){return c(this,J,ae).call(this,e)}getElement(){return this.element}empty(e={}){return c(this,V,L).call(this,{func:c(this,Le,dt).bind(this)},e)}},Le=new WeakSet,dt=async function(){if(c(this,re,_e).call(this)){this.element.value="";return}_(this,O,W).forEach(c(this,ue,Se).bind(this))},Q=new WeakSet,ne=async function(e=!0){this.statuses.started=!0;let t=s=>{this.queue.done(s,!e)};try{let s=[...this.queue.getQueue()];for(let n=0;n<s.length;n++){let[a,o]=s[n];if(!o.done){if(!o.deletable||o.deletable&&_(this,O,W).length){let l=await c(this,ye,He).call(this,n,s);Array(l-n).fill(n+1).map((u,h)=>u+h).forEach(u=>{let[h]=s[u];t(h)}),n=l}t(a)}}if(!e)return this;if(this.statuses.completed=!0,await this.opts.afterComplete(this),!this.opts.loop)throw"";let r=this.opts.loopDelay;c(this,ve,Fe).call(this,async()=>{await c(this,Ue,ft).call(this,r[0]),c(this,Q,ne).call(this)},r[1])}catch{}return this},ge=new WeakSet,We=async function(e){this.cursorPosition=jn(e,this.cursorPosition,_(this,O,W)),xn(this.element,_(this,O,W),this.cursorPosition)},Ue=new WeakSet,ft=async function(e){let t=_(this,X,ce);t&&await c(this,ge,We).call(this,{value:t});let s=_(this,O,W).map(r=>[Symbol(),{func:c(this,K,le).bind(this),delay:c(this,F,$).call(this,1),deletable:!0,shouldPauseCursor:()=>!0}]);for(let r=0;r<s.length;r++)await c(this,ye,He).call(this,r,s);this.queue.reset(),this.queue.set(0,{delay:e})},ye=new WeakSet,He=function(e,t){return cn({index:e,queueItems:t,wait:c(this,ve,Fe).bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})},ve=new WeakSet,Fe=async function(e,t,s=!1){this.statuses.frozen&&await new Promise(r=>{this.unfreeze=()=>{this.statuses.frozen=!1,r()}}),s||await this.opts.beforeStep(this),await Tn(e,t,this.timeouts),s||await this.opts.afterStep(this)},xe=new WeakSet,Me=async function(){if(!c(this,re,_e).call(this)&&this.cursor&&this.element.appendChild(this.cursor),_(this,je,Qe)){wn(this.id,this.element),this.cursor.dataset.tiAnimationId=this.id;let{animation:e}=this.opts.cursor,{frames:t,options:s}=e;Mt({frames:t,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...s}})}},re=new WeakSet,_e=function(){return Ie(this.element)},V=new WeakSet,L=function(e,t){return this.queue.add(e),c(this,De,pt).call(this,t),this},De=new WeakSet,pt=function(e={}){let t=e.delay;t&&this.queue.add({delay:t})},G=new WeakSet,ie=function(e={}){return[{func:()=>c(this,J,ae).call(this,e)},{func:()=>c(this,J,ae).call(this,this.opts)}]},J=new WeakSet,ae=async function(e){this.opts=de(this.opts,e)},Be=new WeakSet,mt=function(){let e=this.opts.strings.filter(t=>!!t);e.forEach((t,s)=>{if(this.type(t),s+1===e.length)return;let r=this.opts.breakLines?[{func:()=>c(this,oe,we).call(this,Ee("BR")),typeable:!0}]:Te({func:c(this,K,le).bind(this),delay:c(this,F,$).call(this,1)},this.queue.getTypeable().length);c(this,be,Ye).call(this,r)})},$e=new WeakMap,ze=new WeakSet,gt=function(e){let t=this.element.innerHTML;return t?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=t,st(this.element),c(this,be,Ye).call(this,Te({func:c(this,K,le).bind(this),delay:c(this,F,$).call(this,1),deletable:!0},_(this,O,W).length)),e):Sn(t).concat(e)):e},qe=new WeakSet,yt=function(){if(_(this,Z,he))return null;let e=Ee("span");return e.className=q,_(this,je,Qe)?(e.innerHTML=Wt(this.opts.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)},be=new WeakSet,Ye=function(e){let t=this.opts.nextStringDelay;this.queue.add([{delay:t[0]},...e,{delay:t[1]}])},oe=new WeakSet,we=function(e){mn(this.element,e)},K=new WeakSet,le=function(){_(this,O,W).length&&(_(this,Z,he)?this.element.value=this.element.value.slice(0,-1):c(this,ue,Se).call(this,_(this,O,W)[this.cursorPosition]))},ue=new WeakSet,Se=function(e){vn(e,this.element)},F=new WeakSet,$=function(e=0){return rn(this.opts)[e]},X=new WeakSet,ce=function(){return this.predictedCursorPosition??this.cursorPosition},Z=new WeakSet,he=function(){return Ie(this.element)},je=new WeakSet,Qe=function(){return!!this.opts.cursor&&!_(this,Z,he)},O=new WeakSet,W=function(){return fn(this.element)},vt);const Cn=d.forwardRef((e,t)=>{const{as:s}=e;return Ct.createElement(s,{ref:t,...e})}),Pn={},Nn=({as:e="span",options:t=Pn,children:s=null,getBeforeInit:r=o=>o,getAfterInit:n=o=>o,...a})=>{const o=d.useRef(null),l=d.useRef(null),[u,h]=d.useState(!0),[p,y]=d.useState(null);function f(){const g=Object.assign({},t);s&&o.current&&(g.strings=o.current.innerHTML),y(g)}function m(){l.current=new En(o.current,p),l.current=r(l.current),l.current.go(),l.current=n(l.current)}return d.useEffect(()=>{f(),h(!1)},[t]),d.useEffect(()=>{var g;p&&((g=l.current)!=null&&g.updateOptions(p)||m())},[p]),d.useEffect(()=>()=>{var g;return(g=l.current)==null?void 0:g.destroy()},[]),Ct.createElement(Cn,{ref:o,as:e,children:u?s:null,style:{opacity:u?0:1},...a})},kn="_infoWrap_198sd_1",In={infoWrap:kn},rt=({onClose:e})=>i.jsxs("div",{onClick:()=>{e()},className:In.infoWrap,children:[i.jsx("img",{src:"./question.svg",alt:"How to Play"}),i.jsx("h3",{children:"How to play"})]}),An=({onClose:e,onLoad:t})=>{const s=Qt();return d.useEffect(()=>{s.enable().setParams({text:"Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ"}).show();const r=setTimeout(()=>{t()},1500);return()=>{s.hide(),clearTimeout(r)}},[]),i.jsxs("div",{className:Oe.MainPageWrap,children:[i.jsx("img",{className:Oe.bigHat,src:Ae,alt:"Buy worker"}),i.jsxs("div",{className:Oe.bottomActions,children:[i.jsx(pe,{onClick:()=>{e("referral")},bg:"./ref-btn.svg"}),i.jsx(pe,{onClick:()=>{e("top buyers")},bg:"./top-btn.svg"}),i.jsx(pe,{onClick:()=>{e("referral")},bg:"./mint-btn.svg"})]}),i.jsx(rt,{onClose:()=>{e("start",{hasLogo:!0,helpHidden:!0})}})]})},Rn="_refPageWrap_je6t7_1",Vn="_copyInput_je6t7_17",On="_refControls_je6t7_43",Ln="_stats_je6t7_67",Wn="_statTile_je6t7_77",Un="_refExtraHint_je6t7_123",C={refPageWrap:Rn,copyInput:Vn,refControls:On,stats:Ln,statTile:Wn,refExtraHint:Un},jt=""+new URL("friends-Cf-mNyKv.svg",import.meta.url).href,Tt=""+new URL("success-XdqEFx9m.svg",import.meta.url).href,Hn=({onClose:e,onHelp:t,onLoad:s,onToast:r})=>{const n=d.useRef(),a=Gt(),o=me(),l=()=>{try{a.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(n.current.value)}&text=${encodeURIComponent("Join me on ZAVOD and let's earn together! Use my invite link to join the fun ðŸ’¥")}`),r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Tt,alt:"success"}),i.jsx("p",{children:"Thank you for sharing!"})]}))}catch(p){r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Ke,alt:"error"}),i.jsxs("p",{children:["Cannot share: ",p.message]}),i.jsx("p",{children:"You can also copy or manually select your ref link"})]}))}},u=()=>{navigator.clipboard.writeText(n.current.value).then(p=>{r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Tt,alt:"success"}),i.jsx("p",{children:"Copied to clipboard"})]}))}).catch(p=>{r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Ke,alt:"Error"}),i.jsxs("p",{children:["Unable to copy reflink: ",p.message]}),i.jsx("p",{children:"You can select text manually or use share button"})]}))})},h=Ze();return d.useEffect(()=>{h.show();const p=h.on("click",e);return()=>{h.off("click",p),h.hide()}},[h,e]),d.useEffect(()=>{const p=setTimeout(()=>{s()},1500);return()=>{clearTimeout(p)}},[]),d.useEffect(()=>{o.get("tutorialToasts").then(p=>{console.log(p),p=="true"&&r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{src:jt,alt:"your refferals image"}),i.jsx("p",{children:"You can see more info about your referrals by clicking this icon"})]}))})},[o,r]),i.jsxs("div",{className:C.refPageWrap,children:[i.jsxs("div",{className:C.stats,children:[i.jsxs("div",{className:C.statTile,children:[i.jsx("h4",{children:"hat"}),i.jsx("img",{src:Ae,alt:"hat image"}),i.jsx(fe,{start:0,end:123})]}),i.jsxs("div",{className:C.statTile,children:[i.jsx("h4",{children:"money"}),i.jsx("img",{src:Re,alt:"coin image"}),i.jsx(fe,{start:0,end:5e3})]}),i.jsxs("div",{className:C.statTile,children:[i.jsx("h4",{children:"friends"}),i.jsx("img",{src:jt,alt:"your refferals image"}),i.jsx(fe,{start:0,end:12})]}),i.jsx("div",{className:C.statTile,children:i.jsx("span",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit"})})]}),i.jsx("input",{onClick:u,ref:n,className:C.copyInput,type:"text",disabled:!0,value:"https://t.me/zavod?start=test123"}),i.jsxs("div",{className:C.refControls,children:[i.jsx(pe,{onClick:u,bg:"./copy-btn.svg"}),i.jsx(pe,{onClick:l,bg:"./share-btn.svg"})]}),i.jsx(rt,{onClose:t})]})},Fn="_topUser_1v1vj_1",Mn="_topUserYou_1v1vj_1",Dn="_placeAndAvatar_1v1vj_43",Bn="_PlaceWrap_1v1vj_53",$n="_CoinCount_1v1vj_67",zn="_WalletInfo_1v1vj_91",qn="_UserRelated_1v1vj_105",z={topUser:Fn,topUserYou:Mn,placeAndAvatar:Dn,PlaceWrap:Bn,CoinCount:$n,WalletInfo:zn,UserRelated:qn},Yn=({Wallet:e,count:t,place:s,isYou:r=!1,...n})=>i.jsxs("div",{onClick:r?a=>{console.log(a.currentTarget.offsetTop),a.currentTarget.parentElement.scrollTo({top:a.currentTarget.previousElementSibling.offsetTop}),console.log(a.currentTarget.offsetTop)}:void 0,...n,className:r?z.topUserYou:z.topUser,children:[i.jsxs("div",{className:z.WalletInfo,children:[i.jsxs("div",{className:z.UserRelated,children:[i.jsx("img",{src:"./avatar.svg",alt:`${e}'s avatar`}),i.jsx("p",{children:r?`You: ${e.slice(0,9)}...${e.slice(e.length-3)}`:i.jsxs(i.Fragment,{children:[e.slice(0,5),"...",e.slice(e.length-3)]})})]}),i.jsxs("div",{className:z.CoinCount,children:[i.jsxs("p",{children:["~",t.toFixed(0)]}),i.jsx("img",{src:Re})]})]}),i.jsx("div",{className:z.placeAndAvatar,children:s<=2?i.jsx("img",{src:["./first-place.svg","./second-place.svg","./third-place.svg"][s]}):i.jsx("p",{className:z.PlaceWrap,children:s+1})})]}),Qn="_topWrapper_1338k_1",Gn="_topPage_1338k_39",Et={topWrapper:Qn,topPage:Gn},Jn=({onClose:e,onHelp:t,onLoad:s,onToast:r})=>{const n=Ze(),[a,o]=d.useState([]),[l,u]=d.useState(!0),[h,p]=d.useState(-1),y=me();return d.useEffect(()=>{n.show();const f=n.on("click",e);return()=>{n.off("click",f),n.hide()}},[n,e]),d.useEffect(()=>{y.get("tutorialToasts").then(f=>{console.log("TT:",f),f=="true"&&r(i.jsxs("span",{children:["Here you can track your progress and compete other players!",i.jsx("br",{}),i.jsx("br",{}),"Click anywhere to close the hint"]}))})},[y,r]),d.useEffect(()=>{fetch("https://tonapi.io/v2/jettons/0%3Acab0d1a4871a04d8ad72aa6f404e2d7c1e54b53202f203c72e95c9e0199c3066/holders?limit=1000&offset=0").then(async f=>{const m=await f.json();o(m.addresses),u(!1),s()}).catch(f=>{alert(`Unable to get Top right now! Perhaps you're refreshing it too often?
Error message: `+JSON.stringify(f))})},[]),i.jsxs("div",{class:Et.topPage,children:[i.jsx("div",{className:Et.topWrapper,children:l?"Loading...":a.map((f,m)=>i.jsx(Yn,{isYou:m==h,Wallet:f.owner.address,count:Number(f.balance),place:m},m))}),i.jsx(rt,{onClose:t})]})},Kn="_toastManager_xmm6k_1",Xn="_toast_xmm6k_1",Zn="_bgImage_xmm6k_57",Ge={toastManager:Kn,toast:Xn,bgImage:Zn},er=({children:e,onClick:t})=>{const s=Xe(e?[e]:[],{from:{opacity:0,transform:"rotate(-90deg)",marginLeft:"-300%"},enter:{opacity:1,transform:"rotate(0deg)",marginLeft:"0%"},leave:{opacity:0,transform:"rotate(-90deg)",marginLeft:"-300%"},exitBeforeEnter:!0});return i.jsx("div",{onClick:t,className:Ge.toastManager,children:s((r,n)=>i.jsxs(se.div,{style:r,className:Ge.toast,children:[i.jsx("img",{className:Ge.bgImage,src:"./toast.svg"}),n]}))})},tr=({onClose:e,onLoad:t})=>{const[s,r]=d.useState(!1),[n,a]=d.useState(!0),o=me(),l=Ze();d.useEffect(()=>{o.get("tutorialComplete").then(y=>{console.log("tc:",y),r(JSON.parse(y)||!1),o.get("tutorialToasts").then(f=>{console.log("tt:",f),a(JSON.parse(f)),t()})})},[o]);const u=()=>{console.log("Send to cloud",String(s),String(n)),o.set("tutorialComplete",String(s)),o.set("tutorialToasts",String(n))};d.useEffect(()=>{l.show();const y=l.on("click",()=>{e(),u()});return()=>{l.off("click",y),l.hide()}},[l,e]);const h=()=>{r(!s)},p=()=>{a(!n)};return i.jsxs("div",{children:[i.jsx("h1",{children:"Settings"}),i.jsxs("button",{onClick:h,children:[s?"Disable":"Enable"," Tutorial"]}),i.jsxs("button",{onClick:p,children:["Tutorial Toasts: ",n?"âœ…":"âŒ"]})]})};function ir(){const[e,t]=d.useState(!0),[s,r]=d.useState(!1),n=me(),[a,o]=d.useState("start"),[l,u]=d.useState(!0),[h,p]=d.useState("main"),[y,f]=d.useState(!1);d.useState(!0);const m="/21 000 000";d.useState("");const[g,x]=d.useState(!1),[b,U]=d.useState(()=>{}),[S,P]=d.useState(""),j=Jt(),T={Loading:"./backgroundstart.png",start:"./backgroundhelp.png",main:"./backgroundmain.png",referral:"./backgroundref.png","top buyers":"./backgroundtop.png"},[M,D]=d.useState(T.start),Y=()=>{n.set("tutorialComplete","true"),setTimeout(()=>{N(h,{hasLogo:h=="main",hasHeader:h=="main",logoMinimized:!0})},500)},E=()=>{p(a),N("start",{hasLogo:!0,helpHidden:!0})},N=(H,k={hasLogo:!1,hasHeader:!1,hasToLoad:!1,logoMinimized:!1})=>{k.hasToLoad&&t(!0),D(T[H]),f(!k.hasLogo),u(!k.hasHeader),r(k.logoMinimized),o(H),t(!0)},R=()=>{t(!1)},Dt=Xe([a],{from:{translateY:"300%"},enter:{translateY:"0%"},leave:{translateY:"300%"},exitBeforeEnter:!0}),Bt={Loading:"Loading...",start:i.jsx(Ls,{onLoad:R,onToast:P,onClose:Y}),main:i.jsx(An,{onLoad:R,onToast:P,onClose:N}),referral:i.jsx(Hn,{onLoad:R,onToast:P,onHelp:E,onClose:()=>{N("main",{hasLogo:!0,hasHeader:!0,logoMinimized:!0})}}),"top buyers":i.jsx(Jn,{onLoad:R,onToast:P,onHelp:E,onClose:()=>{N("main",{hasLogo:!0,hasHeader:!0,logoMinimized:!0})}}),settings:i.jsx(tr,{onLoad:R,onClose:Y})};return d.useEffect(()=>{console.log("new call",g,a,b),a=="main"?x(!1):g!==!1&&(a=="main"?(g.delete().type("0"+m),console.log("startin"),b()):g.delete().type(a))},[b,g,a]),d.useEffect(()=>{console.log(n),n.get("tutorialComplete").then(H=>{t(!1);const k=JSON.parse(H);console.log(k),o(k?"main":"start"),u(!k)})},[n]),d.useEffect(()=>{j.show(),j.on("click",()=>{N("settings")})},[j]),i.jsxs("main",{children:[i.jsx(Ms,{bgArray:T,background:M}),e?"":i.jsx(js,{hidden:l}),i.jsx(Ps,{minimized:s,hidden:y,onClick:()=>{r(!s)}}),i.jsx($s,{hidden:a=="start",children:i.jsx(fe,{redraw:!0,start:0,end:19399333,suffix:m,children:({countUpRef:H,start:k})=>i.jsxs("div",{children:[a!="main"?i.jsx(Nn,{getBeforeInit:it=>(x(it),U(k),it),options:{cursor:!1,waitUntilVisible:!0}}):"",i.jsx("span",{style:{position:a!="main"?"fixed":"relative",opacity:+(a=="main")},ref:H})]})})}),i.jsx(zt,{isLoading:e}),Dt((H,k)=>i.jsx(se.div,{style:{...H,translateY:e?"1000%":"0%"},children:Bt[k]})),i.jsx(er,{onClick:()=>{P("")},children:S})]})}export{ir as default};
