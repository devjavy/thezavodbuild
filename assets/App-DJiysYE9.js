import{j as i,g as $e,r as h,u as Ct,a as st,c as ae,b as Xt,R as Ce,L as ze}from"./index-CEb2J16V.js";import{useTonConnectModal as qe,useTonAddress as Ye}from"./index-DobYi9Av.js";import{useCloudStorage as mt,useMainButton as Qe,useUtils as Ge,useBackButton as Zt,useSettingsButton as Je}from"./index-CIb0p9Wx.js";const Ke="/assets/wallet-0L6284XF.svg",Xe="_walletImg_6a6wk_1",Ze="_WalletConWrap_6a6wk_21",oe={walletImg:Xe,WalletConWrap:Ze},ts=()=>{const t=qe(),e=Ye(!0);return i.jsxs("div",{className:oe.WalletConWrap,children:[i.jsx("img",{className:oe.walletImg,onClick:s=>{e.length==0?t.open():alert("Wallet is already connected")},src:Ke,alt:"Connect Wallet"}),e]})},At="/assets/hat-icon-B7aTinpH.svg",Pe="/assets/cup-rS1Pwblk.svg",Rt="/assets/coin-Cx2wDCZ1.svg",es="_statWrapper_1bzes_1",ss="_icon_1bzes_39",le={statWrapper:es,icon:ss};var te={},Pt=function(){return Pt=Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++)for(var n in e=arguments[s])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Pt.apply(this,arguments)},ns=function(){function t(e,s,r){var n=this;this.endVal=s,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(a){n.startTime||(n.startTime=a);var o=a-n.startTime;n.remaining=n.duration-o,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(o,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(o,n.startVal,n.endVal-n.startVal,n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(o/n.duration);var l=n.countDown?n.frameVal<n.endVal:n.frameVal>n.endVal;n.frameVal=l?n.endVal:n.frameVal,n.frameVal=Number(n.frameVal.toFixed(n.options.decimalPlaces)),n.printValue(n.frameVal),o<n.duration?n.rAF=requestAnimationFrame(n.count):n.finalEndVal!==null?n.update(n.finalEndVal):n.options.onCompleteCallback&&n.options.onCompleteCallback()},this.formatNumber=function(a){var o,l,u,d,p=a<0?"-":"";o=Math.abs(a).toFixed(n.options.decimalPlaces);var y=(o+="").split(".");if(l=y[0],u=y.length>1?n.options.decimal+y[1]:"",n.options.useGrouping){d="";for(var f=3,m=0,g=0,x=l.length;g<x;++g)n.options.useIndianSeparators&&g===4&&(f=2,m=1),g!==0&&m%f==0&&(d=n.options.separator+d),m++,d=l[x-g-1]+d;l=d}return n.options.numerals&&n.options.numerals.length&&(l=l.replace(/[0-9]/g,function(b){return n.options.numerals[+b]}),u=u.replace(/[0-9]/g,function(b){return n.options.numerals[+b]})),p+n.options.prefix+l+u+n.options.suffix},this.easeOutExpo=function(a,o,l,u){return l*(1-Math.pow(2,-10*a/u))*1024/1023+o},this.options=Pt(Pt({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(s),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return n.handleScroll(n)}),window.onscroll=function(){window.onScrollFns.forEach(function(a){return a()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(e){if(e&&window&&!e.once){var s=window.innerHeight+window.scrollY,r=e.el.getBoundingClientRect(),n=r.top+window.pageYOffset,a=r.top+r.height+window.pageYOffset;a<s&&a>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>a||n>s)&&!e.paused&&e.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var s=e-this.startVal;if(Math.abs(s)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var r=this.countDown?1:-1;this.endVal=e+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(e){var s;if(this.el){var r=this.formattingFn(e);!((s=this.options.plugin)===null||s===void 0)&&s.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},t.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},t.prototype.validateValue=function(e){var s=Number(e);return this.ensureNumber(s)?s:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const rs=Object.freeze(Object.defineProperty({__proto__:null,CountUp:ns},Symbol.toStringTag,{value:"Module"})),is=$e(rs);Object.defineProperty(te,"__esModule",{value:!0});var w=h,as=is;function os(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var r,n,a,o,l=[],u=!0,d=!1;try{if(a=(s=s.call(t)).next,e!==0)for(;!(u=(r=a.call(s)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){d=!0,n=p}finally{try{if(!u&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function ue(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,r)}return s}function Nt(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ue(Object(s),!0).forEach(function(r){cs(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ue(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function ls(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function us(t){var e=ls(t,"string");return typeof e=="symbol"?e:String(e)}function cs(t,e,s){return e=us(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Jt.apply(this,arguments)}function ds(t,e){if(t==null)return{};var s={},r=Object.keys(t),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(s[n]=t[n]);return s}function Ne(t,e){if(t==null)return{};var s=ds(t,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function hs(t,e){return fs(t)||os(t,e)||ps(t,e)||ms()}function fs(t){if(Array.isArray(t))return t}function ps(t,e){if(t){if(typeof t=="string")return ce(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ce(t,e)}}function ce(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=t[s];return r}function ms(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function A(t){var e=w.useRef(t);return gs(function(){e.current=t}),w.useCallback(function(){for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return e.current.apply(void 0,r)},[])}var ys=function(e,s){var r=s.decimal,n=s.decimals,a=s.duration,o=s.easingFn,l=s.end,u=s.formattingFn,d=s.numerals,p=s.prefix,y=s.separator,f=s.start,m=s.suffix,g=s.useEasing,x=s.useGrouping,b=s.useIndianSeparators,L=s.enableScrollSpy,S=s.scrollSpyDelay,P=s.scrollSpyOnce,j=s.plugin;return new as.CountUp(e,l,{startVal:f,duration:a,decimal:r,decimalPlaces:n,easingFn:o,formattingFn:u,numerals:d,separator:y,prefix:p,suffix:m,plugin:j,useEasing:g,useIndianSeparators:b,useGrouping:x,enableScrollSpy:L,scrollSpyDelay:S,scrollSpyOnce:P})},vs=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],xs={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},ke=function(e){var s=Object.fromEntries(Object.entries(e).filter(function(E){var N=hs(E,2),R=N[1];return R!==void 0})),r=w.useMemo(function(){return Nt(Nt({},xs),s)},[e]),n=r.ref,a=r.startOnMount,o=r.enableReinitialize,l=r.delay,u=r.onEnd,d=r.onStart,p=r.onPauseResume,y=r.onReset,f=r.onUpdate,m=Ne(r,vs),g=w.useRef(),x=w.useRef(),b=w.useRef(!1),L=A(function(){return ys(typeof n=="string"?n:n.current,m)}),S=A(function(E){var N=g.current;if(N&&!E)return N;var R=L();return g.current=R,R}),P=A(function(){var E=function(){return S(!0).start(function(){u==null||u({pauseResume:j,reset:T,start:D,update:M})})};l&&l>0?x.current=setTimeout(E,l*1e3):E(),d==null||d({pauseResume:j,reset:T,update:M})}),j=A(function(){S().pauseResume(),p==null||p({reset:T,start:D,update:M})}),T=A(function(){S().el&&(x.current&&clearTimeout(x.current),S().reset(),y==null||y({pauseResume:j,start:D,update:M}))}),M=A(function(E){S().update(E),f==null||f({pauseResume:j,reset:T,start:D})}),D=A(function(){T(),P()}),Y=A(function(E){a&&(E&&T(),P())});return w.useEffect(function(){b.current?o&&Y(!0):(b.current=!0,Y())},[o,b,Y,l,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),w.useEffect(function(){return function(){T()}},[T]),{start:D,pauseResume:j,reset:T,update:M,getCountUp:S}},_s=["className","redraw","containerProps","children","style"],bs=function(e){var s=e.className,r=e.redraw,n=e.containerProps,a=e.children,o=e.style,l=Ne(e,_s),u=w.useRef(null),d=w.useRef(!1),p=ke(Nt(Nt({},l),{},{ref:u,startOnMount:typeof a!="function"||e.delay===0,enableReinitialize:!1})),y=p.start,f=p.reset,m=p.update,g=p.pauseResume,x=p.getCountUp,b=A(function(){y()}),L=A(function(j){e.preserveValue||f(),m(j)}),S=A(function(){if(typeof e.children=="function"&&!(u.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}x()});w.useEffect(function(){S()},[S]),w.useEffect(function(){d.current&&L(e.end)},[e.end,L]);var P=r&&e;return w.useEffect(function(){r&&d.current&&b()},[b,r,P]),w.useEffect(function(){!r&&d.current&&b()},[b,r,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),w.useEffect(function(){d.current=!0},[]),typeof a=="function"?a({countUpRef:u,start:y,reset:f,update:m,pauseResume:g,getCountUp:x}):w.createElement("span",Jt({className:s,ref:u,style:o},n),typeof e.start<"u"?x().formattingFn(e.start):"")},ft=te.default=bs;te.useCountUp=ke;const Vt=({icon:t,value:e,...s})=>i.jsxs("div",{className:[le.statWrapper,"pixel-border"].join(" "),children:[i.jsx("img",{className:le.icon,src:t}),i.jsx(ft,{start:0,end:e,separator:" "})]}),ws="_headerWrap_j6ys5_1",Ss={headerWrap:ws},js=({hidden:t=!1})=>{const[e,s]=h.useState(!1),r=Ct({from:{marginTop:t?"0":"-15%"},to:{marginTop:t?"-15%":"0"}});return h.useEffect(()=>{if(t){console.log("TIMEOUT SET");const n=setTimeout(()=>{s(t)},1e3);return()=>{clearTimeout(n)}}else console.log(t),s(!1)},[t]),i.jsxs(st.header,{style:r,className:Ss.headerWrap,children:[e?i.jsxs(i.Fragment,{children:[i.jsx("div",{})," ",i.jsx("div",{}),i.jsx("div",{})]}):i.jsxs(i.Fragment,{children:[i.jsx(Vt,{icon:At,value:1e3}),i.jsx(Vt,{icon:Pe,value:1e3}),i.jsx(Vt,{icon:Rt,value:1e3})]}),i.jsx(ts,{})]})},Ts="/assets/logo-dark-pxcTu58g.svg",Es="_logoStyle_1mpkp_1",Cs={logoStyle:Es},Ps=({minimized:t=!1,hidden:e=!1,...s})=>{const r=Ct({config:ae.stiff,from:{width:e?"50vw":"0%"},to:{width:e?"0%":"50vw"},reset:!1}),n=Ct({config:ae.gentle,from:{scale:t?"100%":"70%"},to:{scale:t?"70%":"100%"},reset:!1});return i.jsx(st.img,{...s,style:{...r,...n},className:Cs.logoStyle,src:Ts,alt:"The zavod"})},Ns="_StartPageWrap_1swmr_1",ks="_infoText_1swmr_49",Is="_infoTextReverse_1swmr_49",As="_infoText_textPart_1swmr_59",Rs="_header_1swmr_75",Vs="_mainHeader_1swmr_85",Os="_close_1swmr_97",B={StartPageWrap:Ns,infoText:ks,infoTextReverse:Is,infoText_textPart:As,header:Rs,mainHeader:Vs,close:Os},Kt="/assets/close-D8nR8gUl.svg",Ws=({onClose:t,onToast:e,onLoad:s})=>{const r=mt();h.useEffect(()=>{r.get("tutorialToasts").then(a=>{a=="true"&&e(i.jsxs("span",{children:["You'll recieve a hints like this during the game. If you want to disable them, go to Settings",i.jsx("br",{}),i.jsx("br",{}),"Click anywhere to close the hint"]}))})},[r,e]),h.useEffect(()=>{s()},[]);const n=({icon:a,reverse:o=!1,title:l,text:u,...d})=>i.jsxs("div",{className:o?B.infoText:B.infoTextReverse,children:[i.jsxs("div",{className:B.infoText_textPart,children:[i.jsx("h2",{className:B.header,children:l}),i.jsx("p",{children:u})]}),i.jsx("img",{src:a,alt:"Icon"})]});return i.jsxs("div",{className:[B.StartPageWrap,"pixel-border"].join(" "),children:[i.jsx("h1",{onClick:()=>{e(i.jsx("span",{children:"You'll recieve a hints like this during the game. If you want to disable them, go to Settings Tab"}))},className:B.mainHeader,children:"How to play?"}),i.jsx(n,{icon:At,title:"BUY HAT!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx(n,{reverse:!0,icon:Pe,title:"MINING!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx(n,{icon:Rt,title:"sELL!",text:"Lorem ipsum dolor sit amet consectetur adipisicing elit."}),i.jsx("img",{onClick:()=>{t(),r.set("tutorialComplete","true")},className:B.close,src:Kt,alt:"Close"})]})},Hs="_swapElement_1ejj2_1",Ls="_oldBg_1ejj2_25",Fs="_newBg_1ejj2_43",Us={swapElement:Hs,oldBg:Ls,newBg:Fs},Ms=({background:t,bgArray:e=[]})=>Xt([t],{from:{filter:"blur(100px)"},enter:{filter:"blur(0)"},leave:{filter:"blur(100px)"}})((r,n)=>i.jsx(st.div,{className:Us.swapElement,style:{...r,backgroundImage:`url("${n}")`}})),Ds="_title_1229s_1",Bs="_hideOverflow_1229s_67",de={title:Ds,hideOverflow:Bs},$s=({children:t,hidden:e=!0,...s})=>{const[r,n]=h.useState(!1),a=Ct({config:{duration:100},from:{width:e?"80vw":"0px",fontSize:e?"18px":"0px",marginTop:e?0:-30,marginBottom:e?0:-30},to:{width:e?"0px":"80vw",fontSize:e?"0px":"18px",marginTop:e?-30:0,marginBottom:e?-30:0}});return h.useEffect(()=>{if(e)n(!1);else{const o=setTimeout(()=>{n(!0)},1e3);return()=>{clearTimeout(o)}}},[e]),i.jsx(st.h1,{...s,style:a,className:[de.title,...s.className||""].join(" "),children:i.jsxs("div",{className:de.hideOverflow,children:[i.jsx("img",{src:"/titlebg.svg"}),t]})})},zs="_MainPageWrap_1udvw_1",qs="_bigHat_1udvw_13",Ys="_topIcon_1udvw_25",Qs="_bottomActions_1udvw_33",Ot={MainPageWrap:zs,bigHat:qs,topIcon:Ys,bottomActions:Qs},Gs="_Button_ybt3h_1",Js="_shine_ybt3h_1",Ks={Button:Gs,shine:Js},pt=({children:t,bg:e,...s})=>{const[r,n]=h.useState(!1),[a,o]=h.useState("0s");return h.useEffect(()=>{o(Math.random().toFixed(2)*10+"s")},[]),i.jsx("button",{style:{animationDelay:Math.random().toFixed(2)*10+"s"},onMouseDown:()=>{n(!0)},onMouseUp:()=>{n(!1)},...s,className:Ks.Button+" "+s.className,children:i.jsx("img",{src:e,alt:"Button"})})};var Xs=Object.defineProperty,Zs=(t,e,s)=>e in t?Xs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,I=(t,e,s)=>(Zs(t,typeof e!="symbol"?e+"":e,s),s),Ie=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)},_=(t,e,s)=>(Ie(t,e,"read from private field"),s?s.call(t):e.get(t)),v=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},c=(t,e,s)=>(Ie(t,e,"access private method"),s),Wt,he,Q,nt,gt,Ht,Lt,fe,yt,Ft,vt,Ut,xt,Mt,rt,_t,V,W,Dt,pe,G,it,J,at,Bt,me,$t,zt,ge,qt,ye,bt,Yt,ot,wt,K,lt,ut,St,U,$,X,ct,Z,dt,jt,Qt,O,H,ve;const Ae=t=>Array.isArray(t),Re=t=>Ae(t)?t:[t];let tn=function(t){let e=function(m){return Re(m).forEach(g=>{var x;return f.set(Symbol((x=g.char)==null?void 0:x.innerText),n({...g}))}),this},s=()=>u().filter(m=>m.typeable),r=function(m,g){let x=[...f.keys()];f.set(x[m],n(g))},n=m=>(m.shouldPauseCursor=function(){return!!(this.typeable||this.cursorable||this.deletable)},m),a=function(){f.forEach(m=>delete m.done)},o=function(){f=new Map,e(t)},l=()=>f,u=()=>Array.from(f.values()),d=m=>f.delete(m),p=(m=!1)=>m?u():u().filter(g=>!g.done),y=(m,g=!1)=>g?f.delete(m):f.get(m).done=!0,f=new Map;return e(t),{add:e,set:r,wipe:o,done:y,reset:a,destroy:d,getItems:p,getQueue:l,getTypeable:s}};const Ve="data-typeit-id",q="ti-cursor",en="END",sn={started:!1,completed:!1,frozen:!1,destroyed:!1},et={breakLines:!0,cursor:{autoPause:!0,autoPauseDelay:500,animation:{frames:[0,0,1].map(t=>({opacity:t})),options:{iterations:1/0,easing:"steps(2, start)",fill:"forwards"}}},cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}},nn=`[${Ve}]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}`,Et=t=>document.createElement(t),ee=t=>document.createTextNode(t),Oe=(t,e="")=>{let s=Et("style");s.id=e,s.appendChild(ee(t)),document.head.appendChild(s)},xe=t=>(Ae(t)||(t=[t/2,t/2]),t),_e=(t,e)=>Math.abs(Math.random()*(t+e-(t-e))+(t-e));let be=t=>t/2;function rn(t){let{speed:e,deleteSpeed:s,lifeLike:r}=t;return s=s!==null?s:e/3,r?[_e(e,be(e)),_e(s,be(s))]:[e,s]}const We=t=>Array.from(t);let se=t=>([...t.childNodes].forEach(e=>{if(e.nodeValue){[...e.nodeValue].forEach(s=>{e.parentNode.insertBefore(ee(s),e)}),e.remove();return}se(e)}),t);const He=t=>{let e=document.implementation.createHTMLDocument();return e.body.innerHTML=t,se(e.body)};function Le(t,e=!1,s=!1){let r=t.querySelector(`.${q}`),n=document.createTreeWalker(t,NodeFilter.SHOW_ALL,{acceptNode:l=>{var u,d;if(r&&s){if((u=l.classList)!=null&&u.contains(q))return NodeFilter.FILTER_ACCEPT;if(r.contains(l))return NodeFilter.FILTER_REJECT}return(d=l.classList)!=null&&d.contains(q)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),a,o=[];for(;a=n.nextNode();)a.originalParent||(a.originalParent=a.parentNode),o.push(a);return e?o.reverse():o}function an(t){return Le(He(t))}function on(t,e=!0){return e?an(t):We(t).map(ee)}const Fe=t=>Number.isInteger(t),we=({queueItems:t,selector:e,cursorPosition:s,to:r})=>{if(Fe(e))return e*-1;let n=new RegExp(en,"i").test(r),a=e?[...t].reverse().findIndex(({char:l})=>{let u=l.parentElement,d=u.matches(e);return n&&d?!0:d&&u.firstChild.isSameNode(l)}):-1;a<0&&(a=n?0:t.length-1);let o=n?0:1;return a-s+o},ln=t=>(t.forEach(clearTimeout),[]),Tt=(t,e)=>new Array(e).fill(t);let kt=t=>new Promise(e=>{requestAnimationFrame(async()=>{e(await t())})}),Ue=t=>t==null?void 0:t.getAnimations().find(e=>e.id===t.dataset.tiAnimationId),Me=({cursor:t,frames:e,options:s})=>{let r=t.animate(e,s);return r.pause(),r.id=t.dataset.tiAnimationId,kt(()=>{kt(()=>{r.play()})}),r},un=({cursor:t,options:e,cursorOptions:s})=>{if(!t||!s)return;let r=Ue(t),n;r&&(e.delay=r.effect.getComputedTiming().delay,n=r.currentTime,r.cancel());let a=Me({cursor:t,frames:s.animation.frames,options:e});return n&&(a.currentTime=n),a},Se=t=>{var e;return(e=t.func)==null?void 0:e.call(null)},cn=async({index:t,queueItems:e,wait:s,cursor:r,cursorOptions:n})=>{let a=e[t][1],o=[],l=t,u=a,d=()=>u&&!u.delay,p=a.shouldPauseCursor()&&n.autoPause;for(;d();)o.push(u),d()&&l++,u=e[l]?e[l][1]:null;if(o.length)return await kt(async()=>{for(let m of o)await Se(m)}),l-1;let y=Ue(r),f;return y&&(f={...y.effect.getComputedTiming(),delay:p?n.autoPauseDelay:0}),await s(async()=>{y&&p&&y.cancel(),await kt(()=>{Se(a)})},a.delay),await un({cursor:r,options:f,cursorOptions:n}),t};const dn=(t,e)=>{new IntersectionObserver((r,n)=>{r.forEach(a=>{a.isIntersecting&&(e(),n.unobserve(t))})},{threshold:1}).observe(t)},hn=()=>Math.random().toString().substring(2,9),It=t=>"value"in t;let fn=t=>It(t)?We(t.value):Le(t,!0).filter(e=>!(e.childNodes.length>0)),tt=t=>typeof t=="function"?t():t,ne=(t,e=document,s=!1)=>e[`querySelector${s?"All":""}`](t),pn=t=>/body/i.test(t==null?void 0:t.tagName),mn=(t,e)=>{if(It(t)){t.value=`${t.value}${e.textContent}`;return}e.innerHTML="";let s=pn(e.originalParent)?t:e.originalParent||t;s.insertBefore(e,ne("."+q,s)||null)};const gn=t=>/<(.+)>(.*?)<\/(.+)>/.test(t.outerHTML),ht=(t,e)=>Object.assign({},t,e);let yn=t=>{var e,s;if(typeof t=="object"){let r={},{frames:n,options:a}=et.cursor.animation;return r.animation=t.animation||{},r.animation.frames=((e=t.animation)==null?void 0:e.frames)||n,r.animation.options=ht(a,((s=t.animation)==null?void 0:s.options)||{}),r.autoPause=t.autoPause??et.cursor.autoPause,r.autoPauseDelay=t.autoPauseDelay||et.cursor.autoPauseDelay,r}return t===!0?et.cursor:t};const vn=(t,e)=>{if(!t)return;let s=t.parentNode;(s.childNodes.length>1||s.isSameNode(e)?t:s).remove()},xn=(t,e,s)=>{let r=e[s-1],n=ne(`.${q}`,t);t=(r==null?void 0:r.parentNode)||t,t.insertBefore(n,r||null)};function _n(t){return typeof t=="string"?ne(t):t}let bn={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"",transform:"translateX(-.125em)"},wn=(t,e)=>{let r=`${`[${Ve}='${t}']`} .${q}`,n=getComputedStyle(e),a=Object.entries(bn).reduce((o,[l,u])=>`${o} ${l}: var(--ti-cursor-${l}, ${u||n[l]});`,"");Oe(`${r} { display: inline-block; width: 0; ${a} }`,t)};function Sn(t){return t.replace(/<!--(.+?)-->/g,"").trim().split(/<br(?:\s*?)(?:\/)?>/)}let jn=(t,e,s)=>Math.min(Math.max(e+t,0),s.length),Tn=(t,e,s)=>new Promise(r=>{let n=async()=>{await t(),r()};s.push(setTimeout(n,e||0))}),En=(ve=class{constructor(t,e={}){v(this,Wt),v(this,Q),v(this,gt),v(this,Lt),v(this,yt),v(this,vt),v(this,xt),v(this,rt),v(this,V),v(this,Dt),v(this,G),v(this,J),v(this,Bt),v(this,zt),v(this,qt),v(this,bt),v(this,ot),v(this,K),v(this,ut),v(this,U),v(this,X),v(this,Z),v(this,jt),v(this,O),I(this,"element"),I(this,"timeouts"),I(this,"cursorPosition"),I(this,"predictedCursorPosition"),I(this,"statuses",{started:!1,completed:!1,frozen:!1,destroyed:!1}),I(this,"opts"),I(this,"id"),I(this,"queue"),I(this,"cursor"),I(this,"unfreeze",()=>{}),I(this,"is",function(s){return this.statuses[s]}),v(this,$t,s=>{s.cursor=yn(s.cursor??et.cursor),this.opts.strings=c(this,zt,ge).call(this,Re(this.opts.strings)),this.opts=ht(this.opts,{html:!_(this,Z,dt)&&this.opts.html,nextStringDelay:xe(this.opts.nextStringDelay),loopDelay:xe(this.opts.loopDelay)})}),this.opts=ht(et,e),this.element=_n(t),this.timeouts=[],this.cursorPosition=0,this.unfreeze=()=>{},this.predictedCursorPosition=null,this.statuses=ht({},sn),this.id=hn(),this.queue=tn([{delay:this.opts.startDelay}]),_(this,$t).call(this,e),this.cursor=c(this,qt,ye).call(this),this.element.dataset.typeitId=this.id,Oe(nn),this.opts.strings.length&&c(this,Bt,me).call(this)}go(){return this.statuses.started?this:(c(this,xt,Mt).call(this),this.opts.waitUntilVisible?(dn(this.element,c(this,Q,nt).bind(this)),this):(c(this,Q,nt).call(this),this))}destroy(t=!0){this.timeouts=ln(this.timeouts),tt(t)&&this.cursor&&c(this,ut,St).call(this,this.cursor),this.statuses.destroyed=!0}reset(t){!this.is("destroyed")&&this.destroy(),t?(this.queue.wipe(),t(this)):this.queue.reset(),this.cursorPosition=0;for(let e in this.statuses)this.statuses[e]=!1;return this.element[c(this,rt,_t).call(this)?"value":"innerHTML"]="",this}type(t,e={}){t=tt(t);let{instant:s}=e,r=c(this,G,it).call(this,e),a=on(t,this.opts.html).map(l=>({func:()=>c(this,ot,wt).call(this,l),char:l,delay:s||gn(l)?0:c(this,U,$).call(this),typeable:l.nodeType===Node.TEXT_NODE})),o=[r[0],{func:async()=>await this.opts.beforeString(t,this)},...a,{func:async()=>await this.opts.afterString(t,this)},r[1]];return c(this,V,W).call(this,o,e)}break(t={}){return c(this,V,W).call(this,{func:()=>c(this,ot,wt).call(this,Et("BR")),typeable:!0},t)}move(t,e={}){t=tt(t);let s=c(this,G,it).call(this,e),{instant:r,to:n}=e,a=we({queueItems:this.queue.getTypeable(),selector:t===null?"":t,to:n,cursorPosition:_(this,X,ct)}),o=a<0?-1:1;return this.predictedCursorPosition=_(this,X,ct)+a,c(this,V,W).call(this,[s[0],...Tt({func:()=>c(this,gt,Ht).call(this,o),delay:r?0:c(this,U,$).call(this),cursorable:!0},Math.abs(a)),s[1]],e)}exec(t,e={}){let s=c(this,G,it).call(this,e);return c(this,V,W).call(this,[s[0],{func:()=>t(this)},s[1]],e)}options(t,e={}){return t=tt(t),c(this,J,at).call(this,t),c(this,V,W).call(this,{},e)}pause(t,e={}){return c(this,V,W).call(this,{delay:tt(t)},e)}delete(t=null,e={}){t=tt(t);let s=c(this,G,it).call(this,e),r=t,{instant:n,to:a}=e,o=this.queue.getTypeable(),l=r===null?o.length:Fe(r)?r:we({queueItems:o,selector:r,cursorPosition:_(this,X,ct),to:a});return c(this,V,W).call(this,[s[0],...Tt({func:c(this,K,lt).bind(this),delay:n?0:c(this,U,$).call(this,1),deletable:!0},l),s[1]],e)}freeze(){this.statuses.frozen=!0}flush(t=()=>{}){return c(this,xt,Mt).call(this),c(this,Q,nt).call(this,!1).then(t),this}getQueue(){return this.queue}getOptions(){return this.opts}updateOptions(t){return c(this,J,at).call(this,t)}getElement(){return this.element}empty(t={}){return c(this,V,W).call(this,{func:c(this,Wt,he).bind(this)},t)}},Wt=new WeakSet,he=async function(){if(c(this,rt,_t).call(this)){this.element.value="";return}_(this,O,H).forEach(c(this,ut,St).bind(this))},Q=new WeakSet,nt=async function(t=!0){this.statuses.started=!0;let e=s=>{this.queue.done(s,!t)};try{let s=[...this.queue.getQueue()];for(let n=0;n<s.length;n++){let[a,o]=s[n];if(!o.done){if(!o.deletable||o.deletable&&_(this,O,H).length){let l=await c(this,yt,Ft).call(this,n,s);Array(l-n).fill(n+1).map((u,d)=>u+d).forEach(u=>{let[d]=s[u];e(d)}),n=l}e(a)}}if(!t)return this;if(this.statuses.completed=!0,await this.opts.afterComplete(this),!this.opts.loop)throw"";let r=this.opts.loopDelay;c(this,vt,Ut).call(this,async()=>{await c(this,Lt,fe).call(this,r[0]),c(this,Q,nt).call(this)},r[1])}catch{}return this},gt=new WeakSet,Ht=async function(t){this.cursorPosition=jn(t,this.cursorPosition,_(this,O,H)),xn(this.element,_(this,O,H),this.cursorPosition)},Lt=new WeakSet,fe=async function(t){let e=_(this,X,ct);e&&await c(this,gt,Ht).call(this,{value:e});let s=_(this,O,H).map(r=>[Symbol(),{func:c(this,K,lt).bind(this),delay:c(this,U,$).call(this,1),deletable:!0,shouldPauseCursor:()=>!0}]);for(let r=0;r<s.length;r++)await c(this,yt,Ft).call(this,r,s);this.queue.reset(),this.queue.set(0,{delay:t})},yt=new WeakSet,Ft=function(t,e){return cn({index:t,queueItems:e,wait:c(this,vt,Ut).bind(this),cursor:this.cursor,cursorOptions:this.opts.cursor})},vt=new WeakSet,Ut=async function(t,e,s=!1){this.statuses.frozen&&await new Promise(r=>{this.unfreeze=()=>{this.statuses.frozen=!1,r()}}),s||await this.opts.beforeStep(this),await Tn(t,e,this.timeouts),s||await this.opts.afterStep(this)},xt=new WeakSet,Mt=async function(){if(!c(this,rt,_t).call(this)&&this.cursor&&this.element.appendChild(this.cursor),_(this,jt,Qt)){wn(this.id,this.element),this.cursor.dataset.tiAnimationId=this.id;let{animation:t}=this.opts.cursor,{frames:e,options:s}=t;Me({frames:e,cursor:this.cursor,options:{duration:this.opts.cursorSpeed,...s}})}},rt=new WeakSet,_t=function(){return It(this.element)},V=new WeakSet,W=function(t,e){return this.queue.add(t),c(this,Dt,pe).call(this,e),this},Dt=new WeakSet,pe=function(t={}){let e=t.delay;e&&this.queue.add({delay:e})},G=new WeakSet,it=function(t={}){return[{func:()=>c(this,J,at).call(this,t)},{func:()=>c(this,J,at).call(this,this.opts)}]},J=new WeakSet,at=async function(t){this.opts=ht(this.opts,t)},Bt=new WeakSet,me=function(){let t=this.opts.strings.filter(e=>!!e);t.forEach((e,s)=>{if(this.type(e),s+1===t.length)return;let r=this.opts.breakLines?[{func:()=>c(this,ot,wt).call(this,Et("BR")),typeable:!0}]:Tt({func:c(this,K,lt).bind(this),delay:c(this,U,$).call(this,1)},this.queue.getTypeable().length);c(this,bt,Yt).call(this,r)})},$t=new WeakMap,zt=new WeakSet,ge=function(t){let e=this.element.innerHTML;return e?(this.element.innerHTML="",this.opts.startDelete?(this.element.innerHTML=e,se(this.element),c(this,bt,Yt).call(this,Tt({func:c(this,K,lt).bind(this),delay:c(this,U,$).call(this,1),deletable:!0},_(this,O,H).length)),t):Sn(e).concat(t)):t},qt=new WeakSet,ye=function(){if(_(this,Z,dt))return null;let t=Et("span");return t.className=q,_(this,jt,Qt)?(t.innerHTML=He(this.opts.cursorChar).innerHTML,t):(t.style.visibility="hidden",t)},bt=new WeakSet,Yt=function(t){let e=this.opts.nextStringDelay;this.queue.add([{delay:e[0]},...t,{delay:e[1]}])},ot=new WeakSet,wt=function(t){mn(this.element,t)},K=new WeakSet,lt=function(){_(this,O,H).length&&(_(this,Z,dt)?this.element.value=this.element.value.slice(0,-1):c(this,ut,St).call(this,_(this,O,H)[this.cursorPosition]))},ut=new WeakSet,St=function(t){vn(t,this.element)},U=new WeakSet,$=function(t=0){return rn(this.opts)[t]},X=new WeakSet,ct=function(){return this.predictedCursorPosition??this.cursorPosition},Z=new WeakSet,dt=function(){return It(this.element)},jt=new WeakSet,Qt=function(){return!!this.opts.cursor&&!_(this,Z,dt)},O=new WeakSet,H=function(){return fn(this.element)},ve);const Cn=h.forwardRef((t,e)=>{const{as:s}=t;return Ce.createElement(s,{ref:e,...t})}),Pn={},Nn=({as:t="span",options:e=Pn,children:s=null,getBeforeInit:r=o=>o,getAfterInit:n=o=>o,...a})=>{const o=h.useRef(null),l=h.useRef(null),[u,d]=h.useState(!0),[p,y]=h.useState(null);function f(){const g=Object.assign({},e);s&&o.current&&(g.strings=o.current.innerHTML),y(g)}function m(){l.current=new En(o.current,p),l.current=r(l.current),l.current.go(),l.current=n(l.current)}return h.useEffect(()=>{f(),d(!1)},[e]),h.useEffect(()=>{var g;p&&((g=l.current)!=null&&g.updateOptions(p)||m())},[p]),h.useEffect(()=>()=>{var g;return(g=l.current)==null?void 0:g.destroy()},[]),Ce.createElement(Cn,{ref:o,as:t,children:u?s:null,style:{opacity:u?0:1},...a})},kn="_infoWrap_198sd_1",In={infoWrap:kn},re=({onClose:t})=>i.jsxs("div",{onClick:()=>{t()},className:In.infoWrap,children:[i.jsx("img",{src:"/question.svg",alt:"How to Play"}),i.jsx("h3",{children:"How to play"})]}),An=({onClose:t,onLoad:e})=>{const s=Qe();return h.useEffect(()=>{s.enable().setParams({text:"Главное действие"}).show();const r=setTimeout(()=>{e()},1500);return()=>{s.hide(),clearTimeout(r)}},[]),i.jsxs("div",{className:Ot.MainPageWrap,children:[i.jsx("img",{className:Ot.bigHat,src:At,alt:"Buy worker"}),i.jsxs("div",{className:Ot.bottomActions,children:[i.jsx(pt,{onClick:()=>{t("referral")},bg:"/ref-btn.svg"}),i.jsx(pt,{onClick:()=>{t("top buyers")},bg:"/top-btn.svg"}),i.jsx(pt,{onClick:()=>{t("referral")},bg:"/mint-btn.svg"})]}),i.jsx(re,{onClose:()=>{t("start",{hasLogo:!0,helpHidden:!0})}})]})},Rn="_refPageWrap_je6t7_1",Vn="_copyInput_je6t7_17",On="_refControls_je6t7_43",Wn="_stats_je6t7_67",Hn="_statTile_je6t7_77",Ln="_refExtraHint_je6t7_123",C={refPageWrap:Rn,copyInput:Vn,refControls:On,stats:Wn,statTile:Hn,refExtraHint:Ln},je="/assets/friends-Cf-mNyKv.svg",Te="/assets/success-XdqEFx9m.svg",Fn=({onClose:t,onHelp:e,onLoad:s,onToast:r})=>{const n=h.useRef(),a=Ge(),o=mt(),l=()=>{try{a.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(n.current.value)}&text=${encodeURIComponent("Join me on ZAVOD and let's earn together! Use my invite link to join the fun 💥")}`),r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Te,alt:"success"}),i.jsx("p",{children:"Thank you for sharing!"})]}))}catch(p){r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Kt,alt:"error"}),i.jsxs("p",{children:["Cannot share: ",p.message]}),i.jsx("p",{children:"You can also copy or manually select your ref link"})]}))}},u=()=>{navigator.clipboard.writeText(n.current.value).then(p=>{r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Te,alt:"success"}),i.jsx("p",{children:"Copied to clipboard"})]}))}).catch(p=>{r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{width:40,src:Kt,alt:"Error"}),i.jsxs("p",{children:["Unable to copy reflink: ",p.message]}),i.jsx("p",{children:"You can select text manually or use share button"})]}))})},d=Zt();return h.useEffect(()=>{d.show();const p=d.on("click",t);return()=>{d.off("click",p),d.hide()}},[d,t]),h.useEffect(()=>{const p=setTimeout(()=>{s()},1500);return()=>{clearTimeout(p)}},[]),h.useEffect(()=>{o.get("tutorialToasts").then(p=>{console.log(p),p=="true"&&r(i.jsxs("div",{className:C.refExtraHint,children:[i.jsx("img",{src:je,alt:"your refferals image"}),i.jsx("p",{children:"You can see more info about your referrals by clicking this icon"})]}))})},[o,r]),i.jsxs("div",{className:C.refPageWrap,children:[i.jsxs("div",{className:C.stats,children:[i.jsxs("div",{className:C.statTile,children:[i.jsx("h4",{children:"hat"}),i.jsx("img",{src:At,alt:"hat image"}),i.jsx(ft,{start:0,end:123})]}),i.jsxs("div",{className:C.statTile,children:[i.jsx("h4",{children:"money"}),i.jsx("img",{src:Rt,alt:"coin image"}),i.jsx(ft,{start:0,end:5e3})]}),i.jsxs("div",{className:C.statTile,children:[i.jsx("h4",{children:"friends"}),i.jsx("img",{src:je,alt:"your refferals image"}),i.jsx(ft,{start:0,end:12})]}),i.jsx("div",{className:C.statTile,children:i.jsx("span",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit"})})]}),i.jsx("input",{onClick:u,ref:n,className:C.copyInput,type:"text",disabled:!0,value:"https://t.me/zavod?start=test123"}),i.jsxs("div",{className:C.refControls,children:[i.jsx(pt,{onClick:u,bg:"/copy-btn.svg"}),i.jsx(pt,{onClick:l,bg:"/share-btn.svg"})]}),i.jsx(re,{onClose:e})]})},Un="_topUser_1v1vj_1",Mn="_topUserYou_1v1vj_1",Dn="_placeAndAvatar_1v1vj_43",Bn="_PlaceWrap_1v1vj_53",$n="_CoinCount_1v1vj_67",zn="_WalletInfo_1v1vj_91",qn="_UserRelated_1v1vj_105",z={topUser:Un,topUserYou:Mn,placeAndAvatar:Dn,PlaceWrap:Bn,CoinCount:$n,WalletInfo:zn,UserRelated:qn},Yn=({Wallet:t,count:e,place:s,isYou:r=!1,...n})=>i.jsxs("div",{onClick:r?a=>{console.log(a.currentTarget.offsetTop),a.currentTarget.parentElement.scrollTo({top:a.currentTarget.previousElementSibling.offsetTop}),console.log(a.currentTarget.offsetTop)}:void 0,...n,className:r?z.topUserYou:z.topUser,children:[i.jsxs("div",{className:z.WalletInfo,children:[i.jsxs("div",{className:z.UserRelated,children:[i.jsx("img",{src:"/avatar.svg",alt:`${t}'s avatar`}),i.jsx("p",{children:r?`You: ${t.slice(0,9)}...${t.slice(t.length-3)}`:i.jsxs(i.Fragment,{children:[t.slice(0,5),"...",t.slice(t.length-3)]})})]}),i.jsxs("div",{className:z.CoinCount,children:[i.jsxs("p",{children:["~",e.toFixed(0)]}),i.jsx("img",{src:Rt})]})]}),i.jsx("div",{className:z.placeAndAvatar,children:s<=2?i.jsx("img",{src:["/first-place.svg","/second-place.svg","/third-place.svg"][s]}):i.jsx("p",{className:z.PlaceWrap,children:s+1})})]}),Qn="_topWrapper_1338k_1",Gn="_topPage_1338k_39",Ee={topWrapper:Qn,topPage:Gn},Jn=({onClose:t,onHelp:e,onLoad:s,onToast:r})=>{const n=Zt(),[a,o]=h.useState([]),[l,u]=h.useState(!0),[d,p]=h.useState(-1),y=mt();return h.useEffect(()=>{n.show();const f=n.on("click",t);return()=>{n.off("click",f),n.hide()}},[n,t]),h.useEffect(()=>{y.get("tutorialToasts").then(f=>{console.log("TT:",f),f=="true"&&r(i.jsxs("span",{children:["Here you can track your progress and compete other players!",i.jsx("br",{}),i.jsx("br",{}),"Click anywhere to close the hint"]}))})},[y,r]),h.useEffect(()=>{fetch("https://tonapi.io/v2/jettons/0%3Acab0d1a4871a04d8ad72aa6f404e2d7c1e54b53202f203c72e95c9e0199c3066/holders?limit=1000&offset=0").then(async f=>{const m=await f.json();o(m.addresses),u(!1),s()}).catch(f=>{alert(`Unable to get Top right now! Perhaps you're refreshing it too often?
Error message: `+JSON.stringify(f))})},[]),i.jsxs("div",{class:Ee.topPage,children:[i.jsx("div",{className:Ee.topWrapper,children:l?"Loading...":a.map((f,m)=>i.jsx(Yn,{isYou:m==d,Wallet:f.owner.address,count:Number(f.balance),place:m},m))}),i.jsx(re,{onClose:e})]})},Kn="_toastManager_xmm6k_1",Xn="_toast_xmm6k_1",Zn="_bgImage_xmm6k_57",Gt={toastManager:Kn,toast:Xn,bgImage:Zn},tr=({children:t,onClick:e})=>{const s=Xt(t?[t]:[],{from:{opacity:0,transform:"rotate(-90deg)",marginLeft:"-300%"},enter:{opacity:1,transform:"rotate(0deg)",marginLeft:"0%"},leave:{opacity:0,transform:"rotate(-90deg)",marginLeft:"-300%"},exitBeforeEnter:!0});return i.jsx("div",{onClick:e,className:Gt.toastManager,children:s((r,n)=>i.jsxs(st.div,{style:r,className:Gt.toast,children:[i.jsx("img",{className:Gt.bgImage,src:"/toast.svg"}),n]}))})},er=({onClose:t,onLoad:e})=>{const[s,r]=h.useState(!1),[n,a]=h.useState(!0),o=mt(),l=Zt();h.useEffect(()=>{o.get("tutorialComplete").then(y=>{console.log("tc:",y),r(JSON.parse(y)||!1),o.get("tutorialToasts").then(f=>{console.log("tt:",f),a(JSON.parse(f)),e()})})},[o]);const u=()=>{console.log("Send to cloud",String(s),String(n)),o.set("tutorialComplete",String(s)),o.set("tutorialToasts",String(n))};h.useEffect(()=>{l.show();const y=l.on("click",()=>{t(),u()});return()=>{l.off("click",y),l.hide()}},[l,t]);const d=()=>{r(!s)},p=()=>{a(!n)};return i.jsxs("div",{children:[i.jsx("h1",{children:"Settings"}),i.jsxs("button",{onClick:d,children:[s?"Disable":"Enable"," Tutorial"]}),i.jsxs("button",{onClick:p,children:["Tutorial Toasts: ",n?"✅":"❌"]})]})};function ir(){const[t,e]=h.useState(!0),[s,r]=h.useState(!1),n=mt(),[a,o]=h.useState("start"),[l,u]=h.useState(!0),[d,p]=h.useState("main"),[y,f]=h.useState(!1);h.useState(!0);const m="/21 000 000";h.useState("");const[g,x]=h.useState(!1),[b,L]=h.useState(()=>{}),[S,P]=h.useState(""),j=Je(),T={Loading:"/backgroundstart.png",start:"/backgroundhelp.png",main:"/backgroundmain.png",referral:"/backgroundref.png","top buyers":"/backgroundtop.png"},[M,D]=h.useState(T.start),Y=()=>{n.set("tutorialComplete","true"),setTimeout(()=>{N(d,{hasLogo:d=="main",hasHeader:d=="main",logoMinimized:!0})},500)},E=()=>{p(a),N("start",{hasLogo:!0,helpHidden:!0})},N=(F,k={hasLogo:!1,hasHeader:!1,hasToLoad:!1,logoMinimized:!1})=>{k.hasToLoad&&e(!0),D(T[F]),f(!k.hasLogo),u(!k.hasHeader),r(k.logoMinimized),o(F),e(!0)},R=()=>{e(!1)},De=Xt([a],{from:{translateY:"300%"},enter:{translateY:"0%"},leave:{translateY:"300%"},exitBeforeEnter:!0}),Be={Loading:"Loading...",start:i.jsx(Ws,{onLoad:R,onToast:P,onClose:Y}),main:i.jsx(An,{onLoad:R,onToast:P,onClose:N}),referral:i.jsx(Fn,{onLoad:R,onToast:P,onHelp:E,onClose:()=>{N("main",{hasLogo:!0,hasHeader:!0,logoMinimized:!0})}}),"top buyers":i.jsx(Jn,{onLoad:R,onToast:P,onHelp:E,onClose:()=>{N("main",{hasLogo:!0,hasHeader:!0,logoMinimized:!0})}}),settings:i.jsx(er,{onLoad:R,onClose:Y})};return h.useEffect(()=>{console.log("new call",g,a,b),a=="main"?x(!1):g!==!1&&(a=="main"?(g.delete().type("0"+m),console.log("startin"),b()):g.delete().type(a))},[b,g,a]),h.useEffect(()=>{console.log(n),n.get("tutorialComplete").then(F=>{e(!1);const k=JSON.parse(F);console.log(k),o(k?"main":"start"),u(!k)})},[n]),h.useEffect(()=>{j.show(),j.on("click",()=>{N("settings")})},[j]),i.jsxs("main",{children:[i.jsx(Ms,{bgArray:T,background:M}),t?"":i.jsx(js,{hidden:l}),i.jsx(Ps,{minimized:s,hidden:y,onClick:()=>{r(!s)}}),i.jsx($s,{hidden:a=="start",children:i.jsx(ft,{redraw:!0,start:0,end:19399333,suffix:m,children:({countUpRef:F,start:k})=>i.jsxs("div",{children:[a!="main"?i.jsx(Nn,{getBeforeInit:ie=>(x(ie),L(k),ie),options:{cursor:!1,waitUntilVisible:!0}}):"",i.jsx("span",{style:{position:a!="main"?"fixed":"relative",opacity:+(a=="main")},ref:F})]})})}),i.jsx(ze,{isLoading:t}),De((F,k)=>i.jsx(st.div,{style:{...F,translateY:t?"1000%":"0%"},children:Be[k]})),i.jsx(tr,{onClick:()=>{P("")},children:S})]})}export{ir as default};
